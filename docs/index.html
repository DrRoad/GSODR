<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Global Summary Daily Weather Data in R • GSODR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">GSODR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="/index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/GSODR.html">Get Started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/GSODR_output_fields.html">GSODR Output Fields</a>
    </li>
    <li>
      <a href="articles/Specified_stations_for_a_range_of_years.html">GSODR use case: Specified years/stations vignette</a>
    </li>
    <li>
      <a href="articles/Working_with_spatial_and_climate_data.html">Working with spatial and climate data from GSODR</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/GSODR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
    

<div id="gsodr-global-summary-daily-weather-data-in-r" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#gsodr-global-summary-daily-weather-data-in-r" class="anchor"></a><em>GSODR</em>: Global Summary Daily Weather Data in R</h1></div>
<div id="introduction-to-gsodr" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction-to-gsodr" class="anchor"></a>Introduction to <em>GSODR</em>
</h2>
<p>The GSOD or <a href="https://data.noaa.gov/dataset/global-surface-summary-of-the-day-gsod">Global Surface Summary of the Day (GSOD)</a> data provided by the US National Centers for Environmental Information (NCEI) are a valuable source of weather data with global coverage. However, the data files are cumbersome and difficult to work with. <em>GSODR</em> aims to make it easy to find, transfer and format the data you need for use in analysis and provides four main functions for facilitating this:</p>
<ul>
<li><p><code><a href="reference/get_GSOD.html">get_GSOD()</a></code>, queries and transfers files from the FTP server, reformats them and returns a <code>data.frame()</code> object in R session or saves a file to disk with options for a GeoPackage spatially enabled file or comma `separated values (CSV) file,</p></li>
<li><p><code><a href="reference/reformat_GSOD.html">reformat_GSOD()</a></code>, the workhorse, takes individual station files on the local disk and reformats them, returns a <code>data.frame()</code> object in R session or saves a file to disk with options for a GeoPackage spatially enabled file or comma separated values (CSV) file,</p></li>
<li><p><code><a href="reference/nearest_stations.html">nearest_stations()</a></code>, returns a <code>vector()</code> object containing a list of stations and their metadata that fall within the given radius of a point specified by the user,</p></li>
<li><p><code><a href="reference/update_station_list.html">update_station_list()</a></code>, downloads the latest station list from the NCEI FTP server updates the package’s internal database of stations and their metadata.</p></li>
</ul>
<p>When reformatting data either with <code><a href="reference/get_GSOD.html">get_GSOD()</a></code> or <code><a href="reference/reformat_GSOD.html">reformat_GSOD()</a></code>, all units are converted to International System of Units (SI), e.g., inches to millimetres and Fahrenheit to Celsius. File output can be saved as a Comma Separated Value (CSV) file or in a spatial GeoPackage (GPKG) file, implemented by most major GIS software, summarising each year by station, which also includes vapour pressure and relative humidity elements calculated from existing data in GSOD.</p>
<p>Additional data are calculated by this R package using the original data and included in the final data. These include vapour pressure (ea and es) and relative humidity.</p>
<p>It is recommended that you have a good Internet connection to download the data files as they can be quite large and slow to download.</p>
<p>For more information see the description of the data provided by NCEI, <a href="http://www7.ncdc.noaa.gov/CDO/GSOD_DESC.txt" class="uri">http://www7.ncdc.noaa.gov/CDO/GSOD_DESC.txt</a>.</p>
</div>
<div id="quick-start-install" class="section level2">
<h2 class="hasAnchor">
<a href="#quick-start-install" class="anchor"></a>Quick Start Install</h2>
<div id="stable-version" class="section level3">
<h3 class="hasAnchor">
<a href="#stable-version" class="anchor"></a>Stable version</h3>
<p>A stable version of <em>GSODR</em> is available from <a href="https://cran.r-project.org/package=GSODR">CRAN</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"GSODR"</span>)</code></pre></div>
</div>
<div id="development-version" class="section level3">
<h3 class="hasAnchor">
<a href="#development-version" class="anchor"></a>Development version</h3>
<p>A development version is available from from GitHub. If you wish to install the development version that may have new features (but also may not work properly), install the <a href="https://CRAN.R-project.org/package=devtools">devtools package</a>, available from CRAN. We strive to keep the master branch on GitHub functional and working properly.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"ropensci/GSODR"</span>, <span class="dt">build_vignettes =</span> <span class="ot">TRUE</span>)</code></pre></div>
<hr>
</div>
</div>
<div id="using-gsodr" class="section level2">
<h2 class="hasAnchor">
<a href="#using-gsodr" class="anchor"></a>Using <em>GSODR</em>
</h2>
<div id="query-the-ncei-ftp-server-for-gsod-data" class="section level3">
<h3 class="hasAnchor">
<a href="#query-the-ncei-ftp-server-for-gsod-data" class="anchor"></a>Query the NCEI FTP server for GSOD data</h3>
<p><em>GSODR’s</em> main function, <code><a href="reference/get_GSOD.html">get_GSOD()</a></code>, downloads and cleans GSOD data from the NCEI server. Following are a few examples of its capabilities.</p>
<div id="example---download-weather-station-data-for-toowoomba-queensland-for-2010" class="section level4">
<h4 class="hasAnchor">
<a href="#example---download-weather-station-data-for-toowoomba-queensland-for-2010" class="anchor"></a>Example - Download weather station data for Toowoomba, Queensland for 2010</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(GSODR)

Tbar &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_GSOD.html">get_GSOD</a></span>(<span class="dt">years =</span> <span class="dv">2010</span>, <span class="dt">station =</span> <span class="st">"955510-99999"</span>)
<span class="co">#&gt;</span>
<span class="co">#&gt; Checking requested station file for availability on server.</span>
<span class="co">#&gt; Starting data file processing</span>

<span class="kw">head</span>(Tbar)
<span class="co">#&gt;    WBAN        STNID          STN_NAME CTRY STATE CALL    LAT     LON</span>
<span class="co">#&gt; 1 99999 955510-99999 TOOWOOMBA AIRPORT   AS  &lt;NA&gt; &lt;NA&gt; -27.55 151.917</span>
<span class="co">#&gt; 2 99999 955510-99999 TOOWOOMBA AIRPORT   AS  &lt;NA&gt; &lt;NA&gt; -27.55 151.917</span>
<span class="co">#&gt; 3 99999 955510-99999 TOOWOOMBA AIRPORT   AS  &lt;NA&gt; &lt;NA&gt; -27.55 151.917</span>
<span class="co">#&gt; 4 99999 955510-99999 TOOWOOMBA AIRPORT   AS  &lt;NA&gt; &lt;NA&gt; -27.55 151.917</span>
<span class="co">#&gt; 5 99999 955510-99999 TOOWOOMBA AIRPORT   AS  &lt;NA&gt; &lt;NA&gt; -27.55 151.917</span>
<span class="co">#&gt; 6 99999 955510-99999 TOOWOOMBA AIRPORT   AS  &lt;NA&gt; &lt;NA&gt; -27.55 151.917</span>
<span class="co">#&gt;   ELEV_M ELEV_M_SRTM_90m    </span><span class="re">BEGIN</span><span class="co">      </span><span class="re">END</span><span class="co"> YEARMODA YEAR MONTH DAY YDAY</span>
<span class="co">#&gt; 1    642             635 19980301 20161122 20100101 2010    01  01    1</span>
<span class="co">#&gt; 2    642             635 19980301 20161122 20100102 2010    01  02    2</span>
<span class="co">#&gt; 3    642             635 19980301 20161122 20100103 2010    01  03    3</span>
<span class="co">#&gt; 4    642             635 19980301 20161122 20100104 2010    01  04    4</span>
<span class="co">#&gt; 5    642             635 19980301 20161122 20100105 2010    01  05    5</span>
<span class="co">#&gt; 6    642             635 19980301 20161122 20100106 2010    01  06    6</span>
<span class="co">#&gt;   TEMP TEMP_CNT DEWP DEWP_CNT    SLP SLP_CNT   STP STP_CNT VISIB VISIB_CNT</span>
<span class="co">#&gt; 1 21.2        8 17.9        8 1013.4       8 942.0       8    NA         0</span>
<span class="co">#&gt; 2 23.2        8 19.4        8 1010.5       8 939.3       8    NA         0</span>
<span class="co">#&gt; 3 21.4        8 18.9        8 1012.3       8 940.9       8  14.3         6</span>
<span class="co">#&gt; 4 18.9        8 16.4        8 1015.7       8 944.1       8  23.3         4</span>
<span class="co">#&gt; 5 20.5        8 16.4        8 1015.5       8 944.0       8    NA         0</span>
<span class="co">#&gt; 6 21.9        8 18.7        8 1013.7       8 942.3       8    NA         0</span>
<span class="co">#&gt;   WDSP WDSP_CNT MXSPD GUST   MAX MAX_FLAG   MIN MIN_FLAG PRCP PRCP_FLAG</span>
<span class="co">#&gt; 1  2.2        8   6.7   NA 25.78          17.78           1.5         G</span>
<span class="co">#&gt; 2  1.9        8   5.1   NA 26.50          19.11           0.3         G</span>
<span class="co">#&gt; 3  3.9        8  10.3   NA 28.72          19.28        * 19.8         G</span>
<span class="co">#&gt; 4  4.5        8  10.3   NA 24.11          16.89        *  1.0         G</span>
<span class="co">#&gt; 5  3.9        8  10.8   NA 24.61          16.72           0.3         G</span>
<span class="co">#&gt; 6  3.2        8   7.7   NA 26.78          17.50           0.0         G</span>
<span class="co">#&gt;   SNDP I_FOG I_RAIN_DRIZZLE I_SNOW_ICE I_HAIL I_THUNDER I_TORNADO_FUNNEL</span>
<span class="co">#&gt; 1   NA     0              0          0      0         0                0</span>
<span class="co">#&gt; 2   NA     0              0          0      0         0                0</span>
<span class="co">#&gt; 3   NA     1              1          0      0         0                0</span>
<span class="co">#&gt; 4   NA     0              0          0      0         0                0</span>
<span class="co">#&gt; 5   NA     0              0          0      0         0                0</span>
<span class="co">#&gt; 6   NA     1              0          0      0         0                0</span>
<span class="co">#&gt;    EA  ES   RH</span>
<span class="co">#&gt; 1 2.1 2.5 84.0</span>
<span class="co">#&gt; 2 2.3 2.8 82.1</span>
<span class="co">#&gt; 3 2.2 2.5 88.0</span>
<span class="co">#&gt; 4 1.9 2.2 86.4</span>
<span class="co">#&gt; 5 1.9 2.4 79.2</span>
<span class="co">#&gt; 6 2.2 2.6 84.6</span></code></pre></div>
</div>
</div>
</div>
<div id="other-sources-of-weather-data-in-r" class="section level2">
<h2 class="hasAnchor">
<a href="#other-sources-of-weather-data-in-r" class="anchor"></a>Other Sources of Weather Data in R</h2>
<p>There are several other sources of weather data and ways of retrieving them through R. In particular, the excellent <a href="https://CRAN.R-project.org/package=rnoaa"><code>rnoaa</code></a> package also from <a href="https://ropensci.org">rOpenSci</a> offers tools for interacting with and downloading weather data from the United States National Oceanic and Atmospheric Administration but lacks support GSOD data.</p>
</div>
<div id="other-sources-for-fetching-gsod-weather-data" class="section level2">
<h2 class="hasAnchor">
<a href="#other-sources-for-fetching-gsod-weather-data" class="anchor"></a>Other Sources for Fetching GSOD Weather Data</h2>
<p>The <a href="https://github.com/environmentalinformatics-marburg/GSODTools"><em>GSODTools</em></a> by <a href="https://github.com/fdetsch">Florian Detsch</a> is an R package that offers similar functionality as <em>GSODR</em>, but also has the ability to graph the data and working with data for time series analysis.</p>
<p>The <a href="https://github.com/ulmo-dev/ulmo"><em>ULMO</em></a> library offers an interface to retrieve GSOD data using Python.</p>
</div>
<div id="notes" class="section level2">
<h2 class="hasAnchor">
<a href="#notes" class="anchor"></a>Notes</h2>
<div id="data-sources" class="section level3">
<h3 class="hasAnchor">
<a href="#data-sources" class="anchor"></a>Data Sources</h3>
<div id="chelsa-climate-layers" class="section level4">
<h4 class="hasAnchor">
<a href="#chelsa-climate-layers" class="anchor"></a>CHELSA climate layers</h4>
<p>CHELSA (climatic surfaces at 1 km resolution) is based on a quasi-mechanistical statistical downscaling of the ERA interim global circulation model (Karger et al. 2016). ESA’s CCI-LC cloud probability monthly averages are based on the MODIS snow products (MOD10A2). <a href="http://chelsa-climate.org/" class="uri">http://chelsa-climate.org/</a></p>
</div>
<div id="elevation-values" class="section level4">
<h4 class="hasAnchor">
<a href="#elevation-values" class="anchor"></a>Elevation Values</h4>
<p>90m hole-filled SRTM digital elevation (Jarvis <em>et al.</em> 2008) was used to identify and correct/remove elevation errors in data for station locations between -60˚ and 60˚ latitude. This applies to cases here where elevation was missing in the reported values as well. In case the station reported an elevation and the DEM does not, the station reported is taken. For stations beyond -60˚ and 60˚ latitude, the values are station reported values in every instance. See <a href="https://github.com/ropensci/GSODR/blob/master/data-raw/fetch_isd-history.md" class="uri">https://github.com/ropensci/GSODR/blob/master/data-raw/fetch_isd-history.md</a> for more detail on the correction methods.</p>
</div>
<div id="wmo-resolution-40--noaa-policy" class="section level4">
<h4 class="hasAnchor">
<a href="#wmo-resolution-40--noaa-policy" class="anchor"></a>WMO Resolution 40. NOAA Policy</h4>
<p><em>Users of these data should take into account the following (from the <a href="http://www7.ncdc.noaa.gov/CDO/cdoselect.cmd?datasetabbv=GSOD&amp;countryabbv=&amp;georegionabbv=">NCEI website</a>):</em></p>
<blockquote>
<p>“The following data and products may have conditions placed on their international commercial use. They can be used within the U.S. or for non-commercial international activities without restriction. The non-U.S. data cannot be redistributed for commercial purposes. Re-distribution of these data by others must provide this same notification.” <a href="https://public.wmo.int/en/our-mandate/what-we-do/data-exchange-and-technology-transfer">WMO Resolution 40. NOAA Policy</a></p>
</blockquote>
</div>
</div>
</div>
<div id="meta" class="section level2">
<h2 class="hasAnchor">
<a href="#meta" class="anchor"></a>Meta</h2>
<ul>
<li><p>Please <a href="https://github.com/ropensci/GSODR/issues">report any issues or bugs</a>.</p></li>
<li><p>License: MIT</p></li>
<li><p>To cite <em>GSODR</em>, please use: Adam H Sparks, Tomislav Hengl and Andrew Nelson (2017). GSODR: Global Summary Daily Weather Data in R. <em>The Journal of Open Source Software</em>, <strong>2(10)</strong>. DOI: 10.21105/joss.00177. URL: <a href="https://doi.org/10.21105%2Fjoss.00177">https://doi.org/10.21105%2Fjoss.00177</a></p></li>
<li><p>Please note that this project is released with a <a href="CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p></li>
</ul>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<p>Jarvis, A., Reuter, H. I., Nelson, A., Guevara, E. (2008) Hole-filled SRTM for the globe Version 4, available from the CGIAR-CSI SRTM 90m Database (<a href="http://srtm.csi.cgiar.org" class="uri">http://srtm.csi.cgiar.org</a>)</p>
<p>Karger, D. N., Conrad, O., Bohner, J., Kawohl, T., Kreft, H., Soria-Auza, R. W., <em>et al</em>. (2016) Climatologies at high resolution for the Earth land surface areas. <em>arXiv preprint</em> <strong>arXiv:1607.00217</strong>. (<a href="http://chelsa-climate.org/" class="uri">http://chelsa-climate.org/</a>)</p>
<p><a href="https://ropensci.org"><img src="https://ropensci.org/public_images/github_footer.png" alt="ropensci"></a></p>
</div>
</div>

  </div>

  <div class="col-md-3" id="sidebar">
    <h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cran.r-project.org/package=GSODR">https://​cran.r-project.org/​package=GSODR</a>
</li>
<li>Browse source code at <br><a href="https://github.com/ropensci/GSODR">https://​github.com/​ropensci/​GSODR</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ropensci/GSODR/issues">https://​github.com/​ropensci/​GSODR/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing GSODR</a></li>
</ul>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Adam Sparks <br><small class="roles"> Author, maintainer </small> <br><small>(http://orcid.org/0000-0002-0061-8359)</small>
</li>
<li>Tomislav Hengl <br><small class="roles"> Author </small> <br><small>(http://orcid.org/0000-0002-9921-5129)</small>
</li>
<li>Andrew Nelson <br><small class="roles"> Author </small> <br><small>(http://orcid.org/0000-0002-7249-3778)</small>
</li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/ropensci/GSODR"><img src="https://travis-ci.org/ropensci/GSODR.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/ropensci/gsodr/branch/master"><img src="https://ci.appveyor.com/api/projects/status/s09kh2nj59o35ob1/branch/master?svg=true" alt="Build status"></a></li>
<li><a href="https://codecov.io/gh/ropensci/GSODR"><img src="https://codecov.io/gh/ropensci/GSODR/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://doi.org/10.5281/zenodo.439850"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.439850.svg" alt="DOI"></a></li>
<li><a href="http://joss.theoj.org/papers/14021f4e4931cdaab4ea41be27df2df6"><img src="http://joss.theoj.org/papers/10.21105/joss.00177/status.svg" alt="JOSS"></a></li>
</ul>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Adam Sparks, Tomislav Hengl, Andrew Nelson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
