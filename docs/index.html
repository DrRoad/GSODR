<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Global Summary Daily Weather Data in R • GSODR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">GSODR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="articles/index.html">Articles</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/GSODR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="gsodr-global-summary-daily-weather-data-in-r" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#gsodr-global-summary-daily-weather-data-in-r" class="anchor"> </a>GSODR: Global Summary Daily Weather Data in R</h1></div>

</div>
<div id="introduction-to-gsodr" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction-to-gsodr" class="anchor"> </a>Introduction to GSODR</h1>
<p>The GSOD or <a href="https://data.noaa.gov/dataset/global-surface-summary-of-the-day-gsod">Global Surface Summary of the Day (GSOD)</a> data provided by the US National Climatic Data Center (NCDC) are a valuable source of weather data with global coverage. However, the data files are cumbersome and difficult to work with. The GSODR package aims to make it easy to find, transfer and format the data you need for use in analysis. The GSODR package provides four main functions for facilitating this:</p>
<ul>
<li>
<code><a href="reference/get_GSOD.html">get_GSOD()</a></code> - queries and transfers files from the FTP server, reformats them and returns a <code>data.frame()</code> object in R session or saves a file to disk with options for a GeoPackage spatially enabled file or comma separated values (CSV) file,<br>
</li>
<li>
<code><a href="reference/reformat_GSOD.html">reformat_GSOD()</a></code> - the workhorse, takes individual station files on the local disk and reformats them, returns a <code>data.frame()</code> object in R session or saves a file to disk with options for a GeoPackage spatially enabled file or comma separated values (CSV) file,<br>
</li>
<li>
<code><a href="reference/nearest_stations.html">nearest_stations()</a></code> - returns a <code>vector()</code> object containing a list of stations and their metadata that fall within the given radius of a point specified by the user,<br>
</li>
<li>
<code><a href="reference/get_station_list.html">get_station_list()</a></code> - downloads the latest station list from the NCDC FTP server and returns a <code>data.table()</code> object in R session.</li>
</ul>
<p>When reformatting data either with <code><a href="reference/get_GSOD.html">get_GSOD()</a></code> or <code><a href="reference/reformat_GSOD.html">reformat_GSOD()</a></code>, all units are converted to International System of Units (SI), e.g., inches to millimetres and Fahrenheit to Celsius. File output can be saved as a Comma Separated Value (CSV) file or in a spatial GeoPackage (GPKG) file, implemented by most major GIS software, summarising each year by station, which also includes vapour pressure and relative humidity variables calculated from existing data in GSOD.</p>
<p>Additional data are calculated by this R package using the original data and included in the final data. These include vapour pressure (ea and es) and relative humidity.</p>
<p>It is recommended that you have a good Internet connection to download the data files as they can be quite large and slow to download.</p>
<p>For more information see the description of the data provided by NCDC, <a href="http://www7.ncdc.noaa.gov/CDO/GSOD_DESC.txt" class="uri">http://www7.ncdc.noaa.gov/CDO/GSOD_DESC.txt</a>.</p>
<div id="other-sources-of-weather-data" class="section level2">
<h2 class="hasAnchor">
<a href="#other-sources-of-weather-data" class="anchor"> </a>Other Sources of Weather Data</h2>
<p>There are several other sources of weather data and ways of retrieving them through R. In particular, the excellent <a href="https://CRAN.R-project.org/package=rnoaa">rnoaa</a> package from <a href="https://ropensci.org">ROpenSci</a> offers tools for interacting with and downloading weather data from the United States National Oceanic and Atmospheric Administration but lacks support GSOD data.</p>
</div>
</div>
<div id="quick-start" class="section level1">
<h1 class="hasAnchor">
<a href="#quick-start" class="anchor"> </a>Quick Start</h1>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"> </a>Install</h2>
<div id="stable-version" class="section level3">
<h3 class="hasAnchor">
<a href="#stable-version" class="anchor"> </a>Stable version</h3>
<p>A stable version of GSODR is available from <a href="https://cran.r-project.org/package=GSODR">CRAN</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"GSODR"</span>)</code></pre></div>
</div>
<div id="development-version" class="section level3">
<h3 class="hasAnchor">
<a href="#development-version" class="anchor"> </a>Development version</h3>
<p>A development version is available from from GitHub. If you wish to install the development version that may have new features (but also may not work properly), install the <a href="https://CRAN.R-project.org/package=devtools">devtools package</a>, available from CRAN. We strive to keep the master branch on GitHub functional and working properly, although this may not always happen.</p>
<p>If you find bugs, please file a <a href="https://github.com/ropensci/GSODR/issues">report as an issue</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#install.packages("devtools")</span>
devtools::<span class="kw">install_github</span>(<span class="st">"ropensci/GSODR"</span>, <span class="dt">build_vignettes =</span> <span class="ot">TRUE</span>)</code></pre></div>
<hr>
</div>
</div>
<div id="final-data-format-and-contents" class="section level2">
<h2 class="hasAnchor">
<a href="#final-data-format-and-contents" class="anchor"> </a>Final data format and contents</h2>
<p>The <code>GSODR</code> package returns data with the following fields/units.</p>
<ul>
<li><p><strong>STNID</strong> - Station number (WMO/DATSAV3 number) for the location;</p></li>
<li><p><strong>WBAN</strong> - number where applicable–this is the historical “Weather Bureau Air Force Navy” number - with WBAN being the acronym;</p></li>
<li><p><strong>STN_NAME</strong> - Unique text identifier;</p></li>
<li><p><strong>CTRY</strong> - Country in which the station is located;</p></li>
<li><p><strong>LAT</strong> - Latitude. <em>Station dropped in cases where values are &lt; -90 or &gt; 90 degrees or Lat = 0 and Lon = 0</em>;</p></li>
<li><p><strong>LON</strong> - Longitude. <em>Station dropped in cases where values are &lt; -180 or &gt; 180 degrees or Lat = 0 and Lon = 0</em>;</p></li>
<li><p><strong>ELEV_M</strong> - Elevation in metres;</p></li>
<li><p><strong>ELEV_M_SRTM_90m</strong> - Elevation in metres corrected for possible errors, derived from the CGIAR-CSI SRTM 90m database (Jarvis et al. 2008);</p></li>
<li><p><strong>YEARMODA</strong> - Date in YYYY-mm-dd format;</p></li>
<li><p><strong>YEAR</strong> - The year (YYYY);</p></li>
<li><p><strong>MONTH</strong> - The month (mm);</p></li>
<li><p><strong>DAY</strong> - The day (dd);</p></li>
<li><p><strong>YDAY</strong> - Sequential day of year (not in original GSOD);</p></li>
<li><p><strong>TEMP</strong> - Mean daily temperature converted to degrees C to tenths. Missing = NA;</p></li>
<li><p><strong>TEMP_CNT</strong> - Number of observations used in calculating mean daily temperature;</p></li>
<li><p><strong>DEWP</strong> - Mean daily dew point converted to degrees C to tenths. Missing = NA;</p></li>
<li><p><strong>DEWP_CNT</strong> - Number of observations used in calculating mean daily dew point;</p></li>
<li><p><strong>SLP</strong> - Mean sea level pressure in millibars to tenths. Missing = NA;</p></li>
<li><p><strong>SLP_CNT</strong> - Number of observations used in calculating mean sea level pressure;</p></li>
<li><p><strong>STP</strong> - Mean station pressure for the day in millibars to tenths. Missing = NA;</p></li>
<li><p><strong>STP_CNT</strong> - Number of observations used in calculating mean station pressure;</p></li>
<li><p><strong>VISIB</strong> - Mean visibility for the day converted to kilometres to tenths Missing = NA;</p></li>
<li><p><strong>VISIB_CNT</strong> - Number of observations used in calculating mean daily visibility;</p></li>
<li><p><strong>WDSP</strong> - Mean daily wind speed value converted to metres/second to tenths Missing = NA;</p></li>
<li><p><strong>WDSP_CNT</strong> - Number of observations used in calculating mean daily wind speed;</p></li>
<li><p><strong>MXSPD</strong> - Maximum sustained wind speed reported for the day converted to metres/second to tenths. Missing = NA;</p></li>
<li><p><strong>GUST</strong> - Maximum wind gust reported for the day converted to metres/second to tenths. Missing = NA;</p></li>
<li><p><strong>MAX</strong> - Maximum temperature reported during the day converted to Celsius to tenths–time of max temp report varies by country and region, so this will sometimes not be the max for the calendar day. Missing = NA;</p></li>
<li><p><strong>MAX_FLAG</strong> - Blank indicates max temp was taken from the explicit max temp report and not from the ‘hourly’ data. An “*” indicates max temp was derived from the hourly data (i.e., highest hourly or synoptic-reported temperature);</p></li>
<li><p><strong>MIN</strong> - Minimum temperature reported during the day converted to Celsius to tenths–time of min temp report varies by country and region, so this will sometimes not be the max for the calendar day. Missing = NA;</p></li>
<li><p><strong>MIN_FLAG</strong> - Blank indicates max temp was taken from the explicit min temp report and not from the ‘hourly’ data. An “*” indicates min temp was derived from the hourly data (i.e., highest hourly or synoptic-reported temperature);</p></li>
<li><p><strong>PRCP</strong> - Total precipitation (rain and/or melted snow) reported during the day converted to millimetres to hundredths; will usually not end with the midnight observation, i.e., may include latter part of previous day. A value of “.00” indicates no measurable precipitation (includes a trace). Missing = NA; <em>Note: Many stations do not report ‘0’ on days with no precipitation– therefore, ‘NA’ will often appear on these days. For example, a station may only report a 6-hour amount for the period during which rain fell.</em> See FLAGS_PRCP column for source of data;</p></li>
<li>
<p><strong>PRCP_FLAG</strong> -</p>
<ul>
<li><p>A = 1 report of 6-hour precipitation amount;</p></li>
<li><p>B = Summation of 2 reports of 6-hour precipitation amount;</p></li>
<li><p>C = Summation of 3 reports of 6-hour precipitation amount;</p></li>
<li><p>D = Summation of 4 reports of 6-hour precipitation amount;</p></li>
<li><p>E = 1 report of 12-hour precipitation amount;</p></li>
<li><p>F = Summation of 2 reports of 12-hour precipitation amount;</p></li>
<li><p>G = 1 report of 24-hour precipitation amount;</p></li>
<li><p>H = Station reported ‘0’ as the amount for the day (e.g., from 6-hour reports), but also reported at least one occurrence of precipitation in hourly observations–this could indicate a rrace occurred, but should be considered as incomplete data for the day;</p></li>
<li><p>I = Station did not report any precipitation data for the day and did not report any occurrences of precipitation in its hourly observations–it’s still possible that precipitation occurred but was not reported;</p></li>
</ul>
</li>
<li><p><strong>SNDP</strong> - Snow depth in millimetres to tenths. Missing = NA;</p></li>
<li><p><strong>I_FOG</strong> - Indicator for fog, (1 = yes, 0 = no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>I_RAIN_DRIZZLE</strong> - Indicator for rain or drizzle, (1 = yes, 0 = no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>I_SNOW_ICE</strong> - Indicator for snow or ice pellets, (1 = yes, 0 = no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>I_HAIL</strong> - Indicator for hail, (1 = yes, 0 = no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>I_THUNDER</strong> - Indicator for thunder, (1 = yes, 0 = no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>I_TORNADO_FUNNEL</strong> - Indicator for tornado or funnel cloud, (1 = yes, 0 = no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>ea</strong> - Mean daily actual vapour pressure;</p></li>
<li><p><strong>es</strong> - Mean daily saturation vapour pressure;</p></li>
<li><p><strong>RH</strong> - Mean daily relative humidity.</p></li>
</ul>
</div>
<div id="using-gsodr" class="section level2">
<h2 class="hasAnchor">
<a href="#using-gsodr" class="anchor"> </a>Using GSODR</h2>
<div id="query-the-ncdc-ftp-server-for-gsod-data" class="section level3">
<h3 class="hasAnchor">
<a href="#query-the-ncdc-ftp-server-for-gsod-data" class="anchor"> </a>Query the NCDC FTP server for GSOD data</h3>
<p>GSODR’s main function, <code><a href="reference/get_GSOD.html">get_GSOD()</a></code>, downloads and cleans GSOD data from the NCDC server. Following are a few examples of its capabilities.</p>
<div id="example-1---download-weather-station-data-for-toowoomba-queensland-for-2010" class="section level4">
<h4 class="hasAnchor">
<a href="#example-1---download-weather-station-data-for-toowoomba-queensland-for-2010" class="anchor"> </a>Example 1 - Download weather station data for Toowoomba, Queensland for 2010</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(GSODR)

Tbar &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_GSOD.html">get_GSOD</a></span>(<span class="dt">years =</span> <span class="dv">2010</span>, <span class="dt">station =</span> <span class="st">"955510-99999"</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; Checking requested station file for availability on server.</span>
<span class="co">#&gt; Starting data file processing</span>
<span class="co">#&gt; </span>
  |<span class="st">                                                                       </span>
<span class="st">  </span><span class="er">|</span><span class="st">                                                                 </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%
  |<span class="st">                                                                       </span>
<span class="st">  </span><span class="er">|=================================================================|</span><span class="st"> </span><span class="dv">100</span>%

<span class="kw">head</span>(Tbar)
<span class="co">#&gt;    WBAN        STNID          STN_NAME CTRY STATE CALL    LAT     LON</span>
<span class="co">#&gt; 1 99999 955510-99999 TOOWOOMBA AIRPORT   AS  &lt;NA&gt; &lt;NA&gt; -27.55 151.917</span>
<span class="co">#&gt; 2 99999 955510-99999 TOOWOOMBA AIRPORT   AS  &lt;NA&gt; &lt;NA&gt; -27.55 151.917</span>
<span class="co">#&gt; 3 99999 955510-99999 TOOWOOMBA AIRPORT   AS  &lt;NA&gt; &lt;NA&gt; -27.55 151.917</span>
<span class="co">#&gt; 4 99999 955510-99999 TOOWOOMBA AIRPORT   AS  &lt;NA&gt; &lt;NA&gt; -27.55 151.917</span>
<span class="co">#&gt; 5 99999 955510-99999 TOOWOOMBA AIRPORT   AS  &lt;NA&gt; &lt;NA&gt; -27.55 151.917</span>
<span class="co">#&gt; 6 99999 955510-99999 TOOWOOMBA AIRPORT   AS  &lt;NA&gt; &lt;NA&gt; -27.55 151.917</span>
<span class="co">#&gt;   ELEV_M ELEV_M_SRTM_90m    BEGIN      END YEARMODA YEAR MONTH DAY YDAY</span>
<span class="co">#&gt; 1    642             635 19980301 20161122 20100101 2010    01  01    1</span>
<span class="co">#&gt; 2    642             635 19980301 20161122 20100102 2010    01  02    2</span>
<span class="co">#&gt; 3    642             635 19980301 20161122 20100103 2010    01  03    3</span>
<span class="co">#&gt; 4    642             635 19980301 20161122 20100104 2010    01  04    4</span>
<span class="co">#&gt; 5    642             635 19980301 20161122 20100105 2010    01  05    5</span>
<span class="co">#&gt; 6    642             635 19980301 20161122 20100106 2010    01  06    6</span>
<span class="co">#&gt;   TEMP TEMP_CNT DEWP DEWP_CNT    SLP SLP_CNT   STP STP_CNT VISIB VISIB_CNT</span>
<span class="co">#&gt; 1 21.2        8 17.9        8 1013.4       8 942.0       8    NA         0</span>
<span class="co">#&gt; 2 23.2        8 19.4        8 1010.5       8 939.3       8    NA         0</span>
<span class="co">#&gt; 3 21.4        8 18.9        8 1012.3       8 940.9       8  14.3         6</span>
<span class="co">#&gt; 4 18.9        8 16.4        8 1015.7       8 944.1       8  23.3         4</span>
<span class="co">#&gt; 5 20.5        8 16.4        8 1015.5       8 944.0       8    NA         0</span>
<span class="co">#&gt; 6 21.9        8 18.7        8 1013.7       8 942.3       8    NA         0</span>
<span class="co">#&gt;   WDSP WDSP_CNT MXSPD GUST   MAX MAX_FLAG   MIN MIN_FLAG PRCP PRCP_FLAG</span>
<span class="co">#&gt; 1  2.2        8   6.7   NA 25.78          17.78           1.5         G</span>
<span class="co">#&gt; 2  1.9        8   5.1   NA 26.50          19.11           0.3         G</span>
<span class="co">#&gt; 3  3.9        8  10.3   NA 28.72          19.28        * 19.8         G</span>
<span class="co">#&gt; 4  4.5        8  10.3   NA 24.11          16.89        *  1.0         G</span>
<span class="co">#&gt; 5  3.9        8  10.8   NA 24.61          16.72           0.3         G</span>
<span class="co">#&gt; 6  3.2        8   7.7   NA 26.78          17.50           0.0         G</span>
<span class="co">#&gt;   SNDP I_FOG I_RAIN_DRIZZLE I_SNOW_ICE I_HAIL I_THUNDER I_TORNADO_FUNNEL</span>
<span class="co">#&gt; 1   NA     0              0          0      0         0                0</span>
<span class="co">#&gt; 2   NA     0              0          0      0         0                0</span>
<span class="co">#&gt; 3   NA     1              1          0      0         0                0</span>
<span class="co">#&gt; 4   NA     0              0          0      0         0                0</span>
<span class="co">#&gt; 5   NA     0              0          0      0         0                0</span>
<span class="co">#&gt; 6   NA     1              0          0      0         0                0</span>
<span class="co">#&gt;    EA  ES   RH</span>
<span class="co">#&gt; 1 2.1 2.5 84.0</span>
<span class="co">#&gt; 2 2.3 2.8 82.1</span>
<span class="co">#&gt; 3 2.2 2.5 88.0</span>
<span class="co">#&gt; 4 1.9 2.2 86.4</span>
<span class="co">#&gt; 5 1.9 2.4 79.2</span>
<span class="co">#&gt; 6 2.2 2.6 84.6</span></code></pre></div>
</div>
<div id="example-2---download-gsod-data-and-generate-agroclimatology-files" class="section level4">
<h4 class="hasAnchor">
<a href="#example-2---download-gsod-data-and-generate-agroclimatology-files" class="anchor"> </a>Example 2 - Download GSOD data and generate agroclimatology files</h4>
<p>For years 2010 and 2011, download data and create the files, GSOD-agroclimatology-2010.csv and GSOD-agroclimatology-2011.csv, in the user’s home directory with a maximum of five missing days per weather station allowed.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/get_GSOD.html">get_GSOD</a></span>(<span class="dt">years =</span> <span class="dv">2010</span>:<span class="dv">2011</span>, <span class="dt">dsn =</span> <span class="st">"~/"</span>, <span class="dt">filename =</span> <span class="st">"GSOD-agroclimatology"</span>,
         <span class="dt">agroclimatology =</span> <span class="ot">TRUE</span>, <span class="dt">CSV =</span> <span class="ot">TRUE</span>, <span class="dt">max_missing =</span> <span class="dv">5</span>)</code></pre></div>
</div>
<div id="example-3---download-and-plot-data-for-a-single-country" class="section level4">
<h4 class="hasAnchor">
<a href="#example-3---download-and-plot-data-for-a-single-country" class="anchor"> </a>Example 3 - Download and plot data for a single country</h4>
<p>Download data for Philippines for year 2010 and generate a spatial, year summary file, PHL-2010.gpkg, in the user’s home directory.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/get_GSOD.html">get_GSOD</a></span>(<span class="dt">years =</span> <span class="dv">2010</span>, <span class="dt">country =</span> <span class="st">"Philippines"</span>, <span class="dt">dsn =</span> <span class="st">"~/"</span>,
         <span class="dt">filename =</span> <span class="st">"PHL-2010"</span>, <span class="dt">GPKG =</span> <span class="ot">TRUE</span>, <span class="dt">max_missing =</span> <span class="dv">5</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#install.packages("spacetime")</span>
<span class="co">#install.packages("plotKML")</span>

<span class="kw">library</span>(rgdal)
<span class="co">#&gt; Loading required package: sp</span>
<span class="co">#&gt; rgdal: version: 1.2-4, (SVN revision 643)</span>
<span class="co">#&gt;  Geospatial Data Abstraction Library extensions to R successfully loaded</span>
<span class="co">#&gt;  Loaded GDAL runtime: GDAL 1.11.5, released 2016/07/01</span>
<span class="co">#&gt;  Path to GDAL shared files: /usr/local/Cellar/gdal/1.11.5_1/share/gdal</span>
<span class="co">#&gt;  Loaded PROJ.4 runtime: Rel. 4.9.3, 15 August 2016, [PJ_VERSION: 493]</span>
<span class="co">#&gt;  Path to PROJ.4 shared files: (autodetected)</span>
<span class="co">#&gt;  Linking to sp version: 1.2-3</span>
<span class="kw">library</span>(spacetime)
<span class="kw">library</span>(plotKML)
<span class="co">#&gt; plotKML version 0.5-6 (2016-05-02)</span>
<span class="co">#&gt; URL: http://plotkml.r-forge.r-project.org/</span>

layers &lt;-<span class="st"> </span><span class="kw">ogrListLayers</span>(<span class="dt">dsn =</span> <span class="kw">path.expand</span>(<span class="st">"~/PHL-2010.gpkg"</span>))
pnts &lt;-<span class="st"> </span><span class="kw">readOGR</span>(<span class="dt">dsn =</span> <span class="kw">path.expand</span>(<span class="st">"~/PHL-2010.gpkg"</span>), layers[<span class="dv">1</span>])
<span class="co">#&gt; OGR data source with driver: GPKG </span>
<span class="co">#&gt; Source: "/Users/U8004755/PHL-2010.gpkg", layer: "GSOD"</span>
<span class="co">#&gt; with 4703 features</span>
<span class="co">#&gt; It has 46 fields</span>

<span class="co"># Plot results in Google Earth as a spacetime object:</span>
pnts$DATE =<span class="st"> </span><span class="kw">as.Date</span>(<span class="kw">paste</span>(pnts$YEAR, pnts$MONTH, pnts$DAY, <span class="dt">sep =</span> <span class="st">"-"</span>))
<span class="kw">row.names</span>(pnts) &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">"point"</span>, <span class="dv">1</span>:<span class="kw">nrow</span>(pnts), <span class="dt">sep =</span> <span class="st">""</span>)

tmp_ST &lt;-<span class="st"> </span><span class="kw">STIDF</span>(<span class="dt">sp =</span> <span class="kw">as</span>(pnts, <span class="st">"SpatialPoints"</span>),
                <span class="dt">time =</span> pnts$DATE -<span class="st"> </span><span class="fl">0.5</span>,
                <span class="dt">data =</span> pnts@data[, <span class="kw">c</span>(<span class="st">"TEMP"</span>, <span class="st">"STNID"</span>)],
                <span class="dt">endTime =</span> pnts$DATE +<span class="st"> </span><span class="fl">0.5</span>)

shape =<span class="st"> "http://maps.google.com/mapfiles/kml/pal2/icon18.png"</span>

<span class="kw">kml</span>(tmp_ST, <span class="dt">dtime =</span> <span class="dv">24</span> *<span class="st"> </span><span class="dv">3600</span>, <span class="dt">colour =</span> TEMP, <span class="dt">shape =</span> shape, <span class="dt">labels =</span> TEMP,
    <span class="dt">file.name =</span> <span class="st">"Temperatures_PHL_2010-2010.kml"</span>, <span class="dt">folder.name =</span> <span class="st">"TEMP"</span>)
<span class="co">#&gt; KML file opened for writing...</span>
<span class="co">#&gt; Writing to KML...</span>
<span class="co">#&gt; Closing  Temperatures_PHL_2010-2010.kml</span>

<span class="kw">system</span>(<span class="st">"zip -m Temperatures_PHL_2010-2010.kmz Temperatures_PHL_2010-2010.kml"</span>)</code></pre></div>
</div>
<div id="example-4---working-with-climate-data-from-gsodrdata" class="section level4">
<h4 class="hasAnchor">
<a href="#example-4---working-with-climate-data-from-gsodrdata" class="anchor"> </a>Example 4 - Working with climate data from GSODRdata</h4>
<p>This example will demonstrate how to download data for Philippines for year 2010 and generate a spatial, year summary file, PHL-2010.gpkg, in the user’s home directory and link it with climate data from the <code>GSODRdata</code> package.</p>
<div id="install-gsodrdata-package" class="section level5">
<h5 class="hasAnchor">
<a href="#install-gsodrdata-package" class="anchor"> </a>Install <code>GSODRdata</code> package</h5>
<p>This package is only available from GitHub; due to its large size (5.5Mb installed) it is not allowed on CRAN. It provides optional data for use with the <code>GSODR</code> package. See <a href="https://github.com/adamhsparks/GSODRdata" class="uri">https://github.com/adamhsparks/GSODRdata</a> for more.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools::<span class="kw">install_github</span>(<span class="st">"adamhsparks/GSODdata"</span>)</code></pre></div>
</div>
<div id="working-with-climate-data-from-gsodrdata" class="section level5">
<h5 class="hasAnchor">
<a href="#working-with-climate-data-from-gsodrdata" class="anchor"> </a>Working with climate data from <code>GSODRdata</code>
</h5>
<p>Now that the extra data have been installed, take a look at the CHELSA data that are one of the data sets included in the <code>GSODRdata</code> package.</p>
<p>CHELSA (Climatologies at high resolution for the earth’s land surface areas) are climate data at (30 arc sec) for the earth land surface areas.</p>
<p><strong>Description of CHELSA data from CHELSA website</strong></p>
<blockquote>
<p>CHELSA is a high resolution (30 arc sec) climate data set for the earth land surface areas currently under development in coorporation with the Department of Geography of the University of Hamburg (Prof. Dr. Jürgen Böhner, Dr. Olaf Conrad, Tobias Kawohl), the Swiss Federal Institute for Forest, Snow and Landscape Research WSL (Prof. Dr. Niklaus Zimmermann), the University of Zurich (Dr. Dirk N. Karger, Dr. Michael Kessler), and the University of Göttingen (Prof. Dr. Holger Kreft). It includes monthly mean temperature and precipitation patterns for the time period 1979-2013. CHELSA is based on a quasi-mechanistical statistical downscaling of the ERA interim global circulation model (<a href="http://www.ecmwf.int/en/research/climate-reanalysis/era-interim" class="uri">http://www.ecmwf.int/en/research/climate-reanalysis/era-interim</a>) with a GPCC bias correction (<a href="https://www.dwd.de/EN/ourservices/gpcc/gpcc.html" class="uri">https://www.dwd.de/EN/ourservices/gpcc/gpcc.html</a>) and is freely available in the download section.</p>
</blockquote>
<p>See <a href="http://chelsa-climate.org" class="uri">http://chelsa-climate.org</a> for more information on these data.</p>
<p>Compare the GSOD weather data from the Philippines with climatic data provided by the GSODR package in the <code>CHELSA</code> data set.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(GSODRdata)

<span class="kw">head</span>(CHELSA)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##          STNID    LON    LAT CHELSA_bio10_1979-2013_V1_1 CHELSA_bio11_1979-2013_V1_1 CHELSA_bio1_1979-2013_V1_1
## 1 008268-99999 65.567 32.950                        30.0                         5.8                       18.3
## 2 010014-99999  5.341 59.792                        14.3                         1.0                        7.1
## 3 010015-99999  5.867 61.383                        12.5                        -3.2                        4.2
## 4 010882-99999 11.342 62.578                        12.6                        -7.0                        2.3
## 5 010883-99999  6.117 61.833                        15.2                        -0.2                        7.0
## 6 010884-99999  9.567 59.185                        16.3                        -2.2                        6.6
##   CHELSA_bio12_1979-2013_V1_1 CHELSA_bio13_1979-2013_V1_1 CHELSA_bio14_1979-2013_V1_1 CHELSA_bio15_1979-2013_V1_1
## 1                       214.0                        54.6                         0.1                       104.9
## 2                      1889.3                       223.7                        87.7                        30.3
## 3                      2209.1                       254.7                       108.9                        30.1
## 4                       563.0                        73.0                        26.7                        30.7
## 5                      1710.3                       200.6                        78.5                        32.1
## 6                       987.0                       120.9                        52.3                        24.4
##   CHELSA_bio16_1979-2013_V1_1 CHELSA_bio17_1979-2013_V1_1 CHELSA_bio18_1979-2013_V1_1 CHELSA_bio19_1979-2013_V1_1
## 1                       155.4                         0.6                         1.7                        96.9
## 2                       650.7                       273.5                       433.3                       490.4
## 3                       752.8                       332.6                       448.3                       621.1
## 4                       216.2                        85.5                       198.7                       122.0
## 5                       590.0                       244.7                       330.9                       494.4
## 6                       338.0                       175.3                       242.3                       182.7
##   CHELSA_bio2_1979-2013_V1_1 CHELSA_bio3_1979-2013_V1_1 CHELSA_bio4_1979-2013_V1_1 CHELSA_bio5_1979-2013_V1_1
## 1                       23.0                       48.3                      884.1                       40.5
## 2                       12.5                       44.8                      486.3                       21.5
## 3                       16.7                       45.3                      591.5                       22.2
## 4                       20.1                       45.5                      734.1                       23.6
## 5                       15.6                       45.0                      573.4                       23.9
## 6                       17.1                       44.3                      693.1                       25.4
##   CHELSA_bio6_1979-2013_V1_1 CHELSA_bio7_1979-2013_V1_1 CHELSA_bio8_1979-2013_V1_1 CHELSA_bio9_1979-2013_V1_1 CHELSA_prec_10_1979-2013
## 1                       -7.2                       47.7                       10.5                       26.7                      3.6
## 2                       -6.5                       28.0                        5.7                        7.8                    230.6
## 3                      -14.5                       36.8                       -1.7                        8.4                    237.5
## 4                      -20.7                       44.3                       12.5                       -0.1                     48.9
## 5                      -10.7                       34.7                        1.3                       12.2                    192.8
## 6                      -13.3                       38.7                        8.5                        3.8                    122.1
##   CHELSA_prec_11_1979-2013 CHELSA_prec_1_1979-2013 CHELSA_prec_12_1979-2013 CHELSA_prec_1979-2013_land CHELSA_prec_2_1979-2013
## 1                     10.5                    35.8                     25.4                      214.5                    46.5
## 2                    219.9                   198.4                    215.5                     1912.0                   153.3
## 3                    237.8                   227.7                    248.3                     2170.2                   188.4
## 4                     41.3                    40.3                     40.5                      559.3                    32.5
## 5                    189.6                   189.5                    201.5                     1719.6                   153.7
## 6                    106.2                    79.0                     82.4                      998.1                    53.0
##  CHELSA_prec_3_1979-2013 CHELSA_prec_4_1979-2013 CHELSA_prec_5_1979-2013 CHELSA_prec_6_1979-2013 CHELSA_prec_7_1979-2013
## 1                    54.8                    28.3                     7.0                     1.2                     1.0
## 2                   151.9                   101.1                    90.6                   100.5                   116.7
## 3                   176.4                   114.4                   107.0                   110.1                   119.2
## 4                    31.8                    26.6                    38.9                    58.0                    69.7
## 5                   145.0                    91.6                    79.0                    84.0                    90.1
## 6                    63.7                    57.0                    72.1                    76.1                    84.3
##   CHELSA_prec_8_1979-2013 CHELSA_prec_9_1979-2013 CHELSA_temp_10_1979-2013 CHELSA_temp_11_1979-2013 CHELSA_temp_1_1979-2013
## 1                     0.3                     0.1                     19.2                     13.2                     4.9
## 2                   165.6                   204.0                      8.0                      4.5                     1.2
## 3                   159.6                   229.6                      4.3                      0.2                    -3.4
## 4                    72.7                    57.9                      2.3                     -3.0                    -7.2
## 5                   121.6                   181.4                      7.2                      3.0                    -0.4
## 6                   105.0                    97.2                      6.7                      2.2                    -2.4
##   CHELSA_temp_12_1979-2013 CHELSA_temp_1979-2013_land CHELSA_temp_2_1979-2013 CHELSA_temp_3_1979-2013 CHELSA_temp_4_1979-2013
## 1                      7.7                       18.3                     7.0                    12.2                    18.3
## 2                      2.1                        7.1                     0.8                     2.3                     5.1
## 3                     -2.7                        4.1                    -3.2                    -0.8                     3.0
## 4                     -6.5                        2.3                    -6.6                    -3.3                     1.5
## 5                      0.3                        6.9                    -0.2                     2.2                     5.8
## 6                     -1.4                        6.5                    -2.2                     0.8                     5.1
##   CHELSA_temp_5_1979-2013 CHELSA_temp_6_1979-2013 CHELSA_temp_7_1979-2013 CHELSA_temp_8_1979-2013 ## CHELSA_temp_9_1979-2013
## 1                    23.5                    28.2                    28.2                    29.7                    25.1
## 2                     9.0                    12.0                    12.0                    14.2                    11.5
## 3                     7.6                    10.9                    10.9                    12.2                     8.6
## 4                     6.4                    10.9                    10.9                    12.1                     7.7
## 5                    10.1                    13.2                    13.2                    14.9                    11.5
## 6                    10.7                    14.7                    14.7                    15.8                    11.6</code></pre></div>
</div>
<div id="using-dplyr-functions-join-the-chelsa-and-gsodr-data-for-plotting-" class="section level5">
<h5 class="hasAnchor">
<a href="#using-dplyr-functions-join-the-chelsa-and-gsodr-data-for-plotting-" class="anchor"> </a>Using <code>dplyr</code> functions, join the CHELSA and GSODR data for plotting.</h5>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(reshape2)

cnames &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">"CHELSA_temp_"</span>, <span class="dv">1</span>:<span class="dv">12</span>, <span class="st">"_1979-2013"</span>)
clim_temp &lt;-<span class="st"> </span>CHELSA[CHELSA$STNID %in%<span class="st"> </span>pnts$STNID,
                       <span class="kw">paste</span>(<span class="kw">c</span>(<span class="st">"STNID"</span>, cnames))]
clim_temp_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">STNID =</span> <span class="kw">rep</span>(clim_temp$STNID, <span class="dv">12</span>),
                           <span class="dt">MONTHC =</span> <span class="kw">as.vector</span>(<span class="kw">sapply</span>(<span class="dv">1</span>:<span class="dv">12</span>, rep,
                                                    <span class="dt">times =</span> <span class="kw">nrow</span>(clim_temp))), 
                           <span class="dt">CHELSA_TEMP =</span> <span class="kw">as.vector</span>(<span class="kw">unlist</span>(clim_temp[, cnames])))

pnts$MONTHC &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">paste</span>(pnts$MONTH))
temp &lt;-<span class="st"> </span><span class="kw">left_join</span>(pnts@data, clim_temp_df, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">"STNID"</span>, <span class="st">"MONTHC"</span>))
<span class="co">#&gt; Warning in left_join_impl(x, y, by$x, by$y, suffix$x, suffix$y): joining</span>
<span class="co">#&gt; factors with different levels, coercing to character vector</span>

temp &lt;-<span class="st"> </span>temp %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(MONTH) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">AVG_DAILY_TEMP =</span> <span class="kw">round</span>(<span class="kw">mean</span>(TEMP), <span class="dv">1</span>))

df_melt &lt;-<span class="st"> </span><span class="kw">na.omit</span>(<span class="kw">melt</span>(temp[, <span class="kw">c</span>(<span class="st">"STNID"</span>, <span class="st">"DATE"</span>, <span class="st">"CHELSA_TEMP"</span>, <span class="st">"TEMP"</span>, <span class="st">"AVG_DAILY_TEMP"</span>)],
                        <span class="dt">id =</span> <span class="kw">c</span>(<span class="st">"DATE"</span>, <span class="st">"STNID"</span>)))

<span class="kw">ggplot</span>(df_melt, <span class="kw">aes</span>(<span class="dt">x =</span> DATE, <span class="dt">y =</span> value)) +
<span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> variable), <span class="dt">alpha =</span> <span class="fl">0.2</span>) +
<span class="st">  </span><span class="kw">scale_x_date</span>(<span class="dt">date_labels =</span> <span class="st">"%b"</span>) +
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">"Temperature (C)"</span>) +
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">"Month"</span>) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">colour =</span> <span class="st">""</span>) +
<span class="st">  </span><span class="kw">scale_color_brewer</span>(<span class="dt">palette =</span> <span class="st">"Dark2"</span>) +
<span class="st">  </span><span class="kw">facet_wrap</span>( ~<span class="st"> </span>STNID)</code></pre></div>
<div class="figure">
<img src="README-example_3.2-1.png" alt="Comparison of GSOD daily values and average monthly values with CHELSA climate monthly values"><p class="caption">Comparison of GSOD daily values and average monthly values with CHELSA climate monthly values</p>
</div>
</div>
</div>
<div id="example-5---finding-stations-within-a-given-radius-of-a-point" class="section level4">
<h4 class="hasAnchor">
<a href="#example-5---finding-stations-within-a-given-radius-of-a-point" class="anchor"> </a>Example 5 - Finding stations within a given radius of a point</h4>
<p>Using the <code>nearest_station()</code> function will return a list of stations in the GSOD data set that are within a specified radius (kilometres) of a given point expressed as latitude and longitude in decimal degrees [WGS84].</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Find stations within 50km of Toowoomba, QLD.</span>

n &lt;-<span class="st"> </span><span class="kw"><a href="reference/nearest_stations.html">nearest_stations</a></span>(<span class="dt">LAT =</span> -<span class="fl">27.5598</span>, <span class="dt">LON =</span> <span class="fl">151.9507</span>, <span class="dt">distance =</span> <span class="dv">50</span>)

n
[<span class="dv">1</span>] <span class="st">"945510-99999"</span> <span class="st">"945520-99999"</span> <span class="st">"945620-99999"</span> <span class="st">"949999-00170"</span> <span class="st">"949999-00183"</span> <span class="st">"955510-99999"</span>

toowoomba &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_GSOD.html">get_GSOD</a></span>(<span class="dt">years =</span> <span class="dv">2015</span>, <span class="dt">station =</span> n)

<span class="co">#&gt; This station, 945510-99999, only provides data for years 1956 to 2012.</span>

<span class="co">#&gt; This station, 949999-00170, only provides data for years 1971 to 1984.</span>

<span class="co">#&gt; This station, 949999-00183, only provides data for years 1983 to 1984.</span>

<span class="co">#&gt; Checking requested station file for availability on server.</span>

<span class="co">#&gt; Downloading individual station files.</span>

|<span class="er">=============================================================================================================================|</span><span class="dv">100</span>% ~<span class="dv">0</span> s remaining     
Starting data file processing
  |<span class="er">=============================================================================================================================================|</span><span class="st"> </span><span class="dv">100</span>%

<span class="kw">str</span>(toowoomba)

<span class="co">#&gt; 'data.frame':    1094 obs. of  47 variables:</span>
<span class="co">#&gt; $ WBAN            : chr  "99999" "99999" "99999" "99999" ...</span>
<span class="co">#&gt; $ STNID           : chr  "945520-99999" "945520-99999" "945520-99999" "945520-99999" ...</span>
<span class="co">#&gt; $ STN_NAME        : chr  "OAKEY" "OAKEY" "OAKEY" "OAKEY" ...</span>
<span class="co">#&gt; $ CTRY            : chr  "AS" "AS" "AS" "AS" ...</span>
<span class="co">#&gt; $ STATE           : chr  NA NA NA NA ...</span>
<span class="co">#&gt; $ CALL            : chr  "YBOK" "YBOK" "YBOK" "YBOK" ...</span>
<span class="co">#&gt; $ LAT             : num  -27.4 -27.4 -27.4 -27.4 -27.4 ...</span>
<span class="co">#&gt; $ LON             : num  152 152 152 152 152 ...</span>
<span class="co">#&gt; $ ELEV_M          : num  407 407 407 407 407 ...</span>
<span class="co">#&gt; $ ELEV_M_SRTM_90m : num  404 404 404 404 404 404 404 404 404 404 ...</span>
<span class="co">#&gt; $ BEGIN           : num  19730430 19730430 19730430 19730430 19730430 ...</span>
<span class="co">#&gt; $ END             : num  20170111 20170111 20170111 20170111 20170111 ...</span>
<span class="co">#&gt; $ YEARMODA        : chr  "20150101" "20150102" "20150103" "20150104" ...</span>
<span class="co">#&gt; $ YEAR            : chr  "2015" "2015" "2015" "2015" ...</span>
<span class="co">#&gt; $ MONTH           : chr  "01" "01" "01" "01" ...</span>
<span class="co">#&gt; $ DAY             : chr  "01" "02" "03" "04" ...</span>
<span class="co">#&gt; $ YDAY            : num  1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt; $ TEMP            : num  24.9 24.3 22.3 23 22.5 22.6 21.8 22.6 24.6 24.9 ...</span>
<span class="co">#&gt; $ TEMP_CNT        : int  24 24 24 24 24 24 24 24 24 24 ...</span>
<span class="co">#&gt; $ DEWP            : num  18.4 18.2 17.4 16.3 17.7 14.3 15.7 16.4 16.4 16.4 ...</span>
<span class="co">#&gt; $ DEWP_CNT        : int  24 24 24 24 24 24 24 24 24 24 ...</span>
<span class="co">#&gt; $ SLP             : num  1014 1017 1017 1014 1015 ...</span>
<span class="co">#&gt; $ SLP_CNT         : int  16 16 16 16 16 16 16 16 16 16 ...</span>
<span class="co">#&gt; $ STP             : num  968 971 971 969 969 ...</span>
<span class="co">#&gt; $ STP_CNT         : int  16 16 16 16 16 16 16 16 16 16 ...</span>
<span class="co">#&gt; $ VISIB           : num  10 10 10 10 10 10 NA NA 10 NA ...</span>
<span class="co">#&gt; $ VISIB_CNT       : int  8 8 4 5 7 4 0 0 4 0 ...</span>
<span class="co">#&gt; $ WDSP            : num  2.3 2.8 2.8 2.3 3 3.5 3.1 2.5 2.9 2.7 ...</span>
<span class="co">#&gt; $ WDSP_CNT        : int  24 24 24 24 24 24 24 24 24 24 ...</span>
<span class="co">#&gt; $ MXSPD           : num  8.2 9.8 10.3 7.2 9.8 9.8 9.8 8.8 8.2 8.2 ...</span>
<span class="co">#&gt; $ GUST            : num  NA NA NA NA NA NA NA NA NA 12.4 ...</span>
<span class="co">#&gt; $ MAX             : num  31.8 31 27.3 29.3 27.6 ...</span>
<span class="co">#&gt; $ MAX_FLAG        : chr  "" "" "" "" ...</span>
<span class="co">#&gt; $ MIN             : num  18.9 18.2 17.7 16.8 16.4 ...</span>
<span class="co">#&gt; $ MIN_FLAG        : chr  "*" "" "*" "*" ...</span>
<span class="co">#&gt; $ PRCP            : num  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt; $ PRCP_FLAG       : chr  "G" "G" "G" "G" ...</span>
<span class="co">#&gt; $ SNDP            : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt; $ I_FOG           : int  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt; $ I_RAIN_DRIZZLE  : int  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt; $ I_SNOW_ICE      : int  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt; $ I_HAIL          : int  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt; $ I_THUNDER       : int  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt; $ I_TORNADO_FUNNEL: int  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt; $ EA              : num  2.1 2.1 2 1.9 2 1.6 1.8 1.9 1.9 1.9 ...</span>
<span class="co">#&gt; $ ES              : num  3.1 3 2.7 2.8 2.7 2.7 2.6 2.7 3.1 3.1 ...</span>
<span class="co">#&gt; $ RH              : num  67.7 70 74.1 67.9 74.1 59.3 69.2 70.4 61.3 61.3 ...</span></code></pre></div>
</div>
</div>
</div>
</div>
<div id="notes" class="section level1">
<h1 class="hasAnchor">
<a href="#notes" class="anchor"> </a>Notes</h1>
<div id="data-sources" class="section level2">
<h2 class="hasAnchor">
<a href="#data-sources" class="anchor"> </a>Data Sources</h2>
<div id="chelsa-climate-layers" class="section level4">
<h4 class="hasAnchor">
<a href="#chelsa-climate-layers" class="anchor"> </a>CHELSA climate layers</h4>
<p>CHELSA (climatic surfaces at 1 km resolution) is based on a quasi-mechanistical statistical downscaling of the ERA interim global circulation model (Karger et al. 2016). ESA’s CCI-LC cloud probability monthly averages are based on the MODIS snow products (MOD10A2). <a href="http://chelsa-climate.org/" class="uri">http://chelsa-climate.org/</a></p>
</div>
<div id="earthenv-modis-cloud-fraction" class="section level4">
<h4 class="hasAnchor">
<a href="#earthenv-modis-cloud-fraction" class="anchor"> </a>EarthEnv MODIS cloud fraction</h4>
<p><a href="http://www.earthenv.org/cloud" class="uri">http://www.earthenv.org/cloud</a></p>
</div>
<div id="esas-cci-lc-cloud-probability" class="section level4">
<h4 class="hasAnchor">
<a href="#esas-cci-lc-cloud-probability" class="anchor"> </a>ESA’s CCI-LC cloud probability</h4>
<p><a href="http://maps.elie.ucl.ac.be/CCI/viewer/index.php" class="uri">http://maps.elie.ucl.ac.be/CCI/viewer/index.php</a></p>
</div>
<div id="elevation-values" class="section level4">
<h4 class="hasAnchor">
<a href="#elevation-values" class="anchor"> </a>Elevation Values</h4>
<p>90m hole-filled SRTM digital elevation (Jarvis <em>et al.</em> 2008) was used to identify and correct/remove elevation errors in data for station locations between -60˚ and 60˚ latitude. This applies to cases here where elevation was missing in the reported values as well. In case the station reported an elevation and the DEM does not, the station reported is taken. For stations beyond -60˚ and 60˚ latitude, the values are station reported values in every instance. See <a href="https://github.com/ropensci/GSODR/blob/devel/data-raw/fetch_isd-history.md" class="uri">https://github.com/ropensci/GSODR/blob/devel/data-raw/fetch_isd-history.md</a> for more detail on the correction methods.</p>
</div>
</div>
<div id="wmo-resolution-40--noaa-policy" class="section level2">
<h2 class="hasAnchor">
<a href="#wmo-resolution-40--noaa-policy" class="anchor"> </a>WMO Resolution 40. NOAA Policy</h2>
<p><em>Users of these data should take into account the following (from the <a href="http://www7.ncdc.noaa.gov/CDO/cdoselect.cmd?datasetabbv=GSOD&amp;countryabbv=&amp;georegionabbv=">NCDC website</a>):</em></p>
<blockquote>
<p>“The following data and products may have conditions placed on their international commercial use. They can be used within the U.S. or for non-commercial international activities without restriction. The non-U.S. data cannot be redistributed for commercial purposes. Re-distribution of these data by others must provide this same notification.” <a href="https://public.wmo.int/en/our-mandate/what-we-do/data-exchange-and-technology-transfer">WMO Resolution 40. NOAA Policy</a></p>
</blockquote>
</div>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"> </a>Code of Conduct</h2>
<p>Please note that this project is released with a <a href="CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"> </a>References</h1>
<p>Jarvis, A., Reuter, H. I., Nelson, A., Guevara, E. (2008) Hole-filled SRTM for the globe Version 4, available from the CGIAR-CSI SRTM 90m Database (<a href="http://srtm.csi.cgiar.org" class="uri">http://srtm.csi.cgiar.org</a>)</p>
<p>Karger, D. N., Conrad, O., Bohner, J., Kawohl, T., Kreft, H., Soria-Auza, R. W., <em>et al</em>. (2016) Climatologies at high resolution for the Earth land surface areas. <em>arXiv preprint</em> <strong>arXiv:1607.00217</strong>. (<a href="http://chelsa-climate.org/" class="uri">http://chelsa-climate.org/</a>)</p>
<p><a href="https://ropensci.org"><img src="https://ropensci.org/public_images/github_footer.png" alt="ropensci_footer"></a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cran.r-project.org/package=GSODR">https://​cran.r-project.org/​package=GSODR</a>
</li>
<li>Browse source code at <br><a href="https://github.com/ropensci/GSODR">https://​github.com/​ropensci/​GSODR</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ropensci/GSODR/issues">https://​github.com/​ropensci/​GSODR/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Adam Sparks <br><small class="roles"> Author, maintainer </small> </li>
<li>Tomislav Hengl <br><small class="roles"> Author </small> </li>
<li>Andrew Nelson <br><small class="roles"> Author </small> </li>
</ul>
<html><body>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/ropensci/GSODR"><img src="https://travis-ci.org/ropensci/GSODR.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/ropensci/gsodr/branch/master"><img src="https://ci.appveyor.com/api/projects/status/s09kh2nj59o35ob1/branch/master?svg=true" alt="Build status"></a></li>
<li><a href="https://codecov.io/gh/ropensci/GSODR"><img src="https://codecov.io/gh/ropensci/GSODR/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://github.com/metacran/cranlogs.app"><img src="http://cranlogs.r-pkg.org/badges/GSODR?color=blue" alt="rstudio mirror downloads"></a></li>
<li><a href="https://github.com/metacran/cranlogs.app"><img src="http://cranlogs.r-pkg.org/badges/grand-total/GSODR?color=blue" alt="rstudio mirror downloads"></a></li>
<li><a href="https://cran.r-project.org/package=GSODR"><img src="http://www.r-pkg.org/badges/version/GSODR" alt="cran version"></a></li>
<li><a href="https://doi.org/10.5281/zenodo.252817"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.252817.svg" alt="DOI"></a></li>
<li><a href="http://depsy.org/package/r/GSODR"><img src="http://depsy.org/api/package/cran/GSODR/badge.svg" alt="Research software impact"></a></li>
</ul>
</body></html>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Adam Sparks, Tomislav Hengl, Andrew Nelson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
