<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GSODR • GSODR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">GSODR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/GSODR.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Specified_stations_for_a_range_of_years.html">GSODR use case: Specified years/stations vignette</a>
    </li>
    <li>
      <a href="../articles/Working_with_spatial_and_climate_data.html">Working with spatial and climate data from GSODR</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/GSODR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>GSODR</h1>
                        <h4 class="author">Adam H Sparks</h4>
            
            <h4 class="date">2017-10-24</h4>
          </div>

    
    
<div class="contents">
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The GSOD or <a href="https://data.noaa.gov/dataset/global-surface-summary-of-the-day-gsod">Global Surface Summary of the Day (GSOD)</a> data provided by the US National Centers for Environmental Information (NCEI) are a valuable source of weather data with global coverage. However, the data files are cumbersome and difficult to work with. <em>GSODR</em> aims to make it easy to find, transfer and format the data you need for use in analysis and provides four main functions for facilitating this:</p>
<ul>
<li><p><code><a href="../reference/get_GSOD.html">get_GSOD()</a></code> - the main function that will query and transfer files from the FTP server, reformat them and return a data frame in R or save a file to disk</p></li>
<li><p><code><a href="../reference/reformat_GSOD.html">reformat_GSOD()</a></code> - the workhorse, this function takes individual station files on the local disk and re-formats them returning a data frame in R</p></li>
<li><p><code><a href="../reference/nearest_stations.html">nearest_stations()</a></code> - this function returns a data frame containing a list of stations and their metadata that fall within the given radius of a point specified by the user</p></li>
<li><p><code><a href="../reference/update_station_list.html">update_station_list()</a></code> - this function downloads the latest station list from the NCEI FTP server updates the package’s internal database of stations and their metadata.</p></li>
</ul>
<p>When reformatting data either with <code><a href="../reference/get_GSOD.html">get_GSOD()</a></code> or <code><a href="../reference/reformat_GSOD.html">reformat_GSOD()</a></code>, all units are converted to International System of Units (SI), e.g., inches to millimetres and Fahrenheit to Celsius. File output can be saved as a Comma Separated Value (CSV) file or in a spatial GeoPackage (GPKG) file, implemented by most major GIS software, summarising each year by station, which also includes vapour pressure and relative humidity elements calculated from existing data in GSOD.</p>
<p>For more information see the description of the data provided by NCEI, <a href="http://www7.ncdc.noaa.gov/CDO/GSOD_DESC.txt" class="uri">http://www7.ncdc.noaa.gov/CDO/GSOD_DESC.txt</a>.</p>
</div>
<div id="retrieving-and-reformatting-data-in-r" class="section level1">
<h1 class="hasAnchor">
<a href="#retrieving-and-reformatting-data-in-r" class="anchor"></a>Retrieving and Reformatting Data in R</h1>
<div id="plot-global-station-locations" class="section level2">
<h2 class="hasAnchor">
<a href="#plot-global-station-locations" class="anchor"></a>Plot Global Station Locations</h2>
</div>
<div id="find-stations-in-australia" class="section level2">
<h2 class="hasAnchor">
<a href="#find-stations-in-australia" class="anchor"></a>Find Stations in Australia</h2>
<p><em>GSODR</em> provides lists of weather station locations and elevation values. Using <a href="https://CRAN.R-project.org/package=dplyr"><em>dplyr</em></a>, we can find all the stations in Australia.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(GSODR)</code></pre></div>
<pre><code>## 
## GSOD is distributed free by the US NCEI with the
## following conditions.
## 'The following data and products may have conditions placed
## their international commercial use. They can be used within
## the U.S. or for non-commercial international activities
## without restriction. The non-U.S. data cannot be
## redistributed for commercial purposes. Re-distribution of
## these data by others must provide this same notification.
## WMO Resolution 40. NOAA Policy'</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)</code></pre></div>
<pre><code>## 
## Attaching package: 'dplyr'</code></pre>
<pre><code>## The following objects are masked from 'package:stats':
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load</span>(<span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"country_list.rda"</span>, <span class="dt">package =</span> <span class="st">"GSODR"</span>))
<span class="kw">load</span>(<span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"isd_history.rda"</span>, <span class="dt">package =</span> <span class="st">"GSODR"</span>))

station_locations &lt;-<span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/join.html">left_join</a></span>(isd_history, country_list,
                               <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">"CTRY"</span> =<span class="st"> "FIPS"</span>))

<span class="co"># create data.frame for Australia only</span>
Oz &lt;-<span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(station_locations, COUNTRY_NAME <span class="op">==</span><span class="st"> "AUSTRALIA"</span>)

Oz</code></pre></div>
<pre><code>## # A tibble: 1,412 x 16
##      USAF  WBAN                      STN_NAME  CTRY STATE  CALL     LAT
##     &lt;chr&gt; &lt;chr&gt;                         &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt;
##  1 695023 99999           HORN ISLAND   (HID)    AS  &lt;NA&gt;  KQXC -10.583
##  2 749430 99999            AIDELAIDE RIVER SE    AS  &lt;NA&gt;  &lt;NA&gt; -13.300
##  3 749432 99999     BATCHELOR FIELD AUSTRALIA    AS  &lt;NA&gt;  &lt;NA&gt; -13.049
##  4 749438 99999          IRON RANGE AUSTRALIA    AS  &lt;NA&gt;  &lt;NA&gt; -12.700
##  5 749439 99999      MAREEBA AS/HOEVETT FIELD    AS  &lt;NA&gt;  &lt;NA&gt; -17.050
##  6 749440 99999                     REID EAST    AS  &lt;NA&gt;  &lt;NA&gt; -19.767
##  7 749441 99999  TOWNSVILLE AUSTRALIA/GARBUTT    AS  &lt;NA&gt;  ABTL -19.249
##  8 749442 99999                     WOODSTOCK    AS  &lt;NA&gt;  &lt;NA&gt; -19.600
##  9 749443 99999 JACKY JACKY AUSTRALIA/HIGGINS    AS  &lt;NA&gt;  &lt;NA&gt; -10.933
## 10 749455 99999            LAKE BUCHANAN WEST    AS  &lt;NA&gt;  &lt;NA&gt; -21.417
## # ... with 1,402 more rows, and 9 more variables: LON &lt;dbl&gt;, ELEV_M &lt;dbl&gt;,
## #   BEGIN &lt;dbl&gt;, END &lt;dbl&gt;, STNID &lt;chr&gt;, ELEV_M_SRTM_90m &lt;dbl&gt;,
## #   COUNTRY_NAME &lt;chr&gt;, iso2c &lt;chr&gt;, iso3c &lt;chr&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Oz <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="kw">grepl</span>(<span class="st">"TOOWOOMBA"</span>, STN_NAME))</code></pre></div>
<pre><code>## # A tibble: 2 x 16
##     USAF  WBAN          STN_NAME  CTRY STATE  CALL     LAT     LON ELEV_M
##    &lt;chr&gt; &lt;chr&gt;             &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
## 1 945510 99999         TOOWOOMBA    AS  &lt;NA&gt;  &lt;NA&gt; -27.583 151.933    676
## 2 955510 99999 TOOWOOMBA AIRPORT    AS  &lt;NA&gt;  &lt;NA&gt; -27.550 151.917    642
## # ... with 7 more variables: BEGIN &lt;dbl&gt;, END &lt;dbl&gt;, STNID &lt;chr&gt;,
## #   ELEV_M_SRTM_90m &lt;dbl&gt;, COUNTRY_NAME &lt;chr&gt;, iso2c &lt;chr&gt;, iso3c &lt;chr&gt;</code></pre>
</div>
<div id="using-the-get_gsod-function-in-gsodr-to-download-a-single-station-and-year" class="section level2">
<h2 class="hasAnchor">
<a href="#using-the-get_gsod-function-in-gsodr-to-download-a-single-station-and-year" class="anchor"></a>Using the get_GSOD() Function in <em>GSODR</em> to Download a Single Station and Year</h2>
<p>Now that we’ve seen where the reporting stations are located, we can download weather data from the station Toowoomba, Queensland, Australia for 2010 by using the STNID in the <code>station</code> parameter of <code><a href="../reference/get_GSOD.html">get_GSOD()</a></code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tbar &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_GSOD.html">get_GSOD</a></span>(<span class="dt">years =</span> <span class="dv">2010</span>, <span class="dt">station =</span> <span class="st">"955510-99999"</span>)</code></pre></div>
<pre><code>## 
## Checking requested station file for availability on server</code></pre>
<pre><code>## 
## Downloading individual station files.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tbar</code></pre></div>
<pre><code>## # A tibble: 365 x 48
##      USAF  WBAN        STNID          STN_NAME  CTRY STATE  CALL    LAT
##     &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt;             &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;
##  1 955510 99999 955510-99999 TOOWOOMBA AIRPORT    AS  &lt;NA&gt;  &lt;NA&gt; -27.55
##  2 955510 99999 955510-99999 TOOWOOMBA AIRPORT    AS  &lt;NA&gt;  &lt;NA&gt; -27.55
##  3 955510 99999 955510-99999 TOOWOOMBA AIRPORT    AS  &lt;NA&gt;  &lt;NA&gt; -27.55
##  4 955510 99999 955510-99999 TOOWOOMBA AIRPORT    AS  &lt;NA&gt;  &lt;NA&gt; -27.55
##  5 955510 99999 955510-99999 TOOWOOMBA AIRPORT    AS  &lt;NA&gt;  &lt;NA&gt; -27.55
##  6 955510 99999 955510-99999 TOOWOOMBA AIRPORT    AS  &lt;NA&gt;  &lt;NA&gt; -27.55
##  7 955510 99999 955510-99999 TOOWOOMBA AIRPORT    AS  &lt;NA&gt;  &lt;NA&gt; -27.55
##  8 955510 99999 955510-99999 TOOWOOMBA AIRPORT    AS  &lt;NA&gt;  &lt;NA&gt; -27.55
##  9 955510 99999 955510-99999 TOOWOOMBA AIRPORT    AS  &lt;NA&gt;  &lt;NA&gt; -27.55
## 10 955510 99999 955510-99999 TOOWOOMBA AIRPORT    AS  &lt;NA&gt;  &lt;NA&gt; -27.55
## # ... with 355 more rows, and 40 more variables: LON &lt;dbl&gt;, ELEV_M &lt;dbl&gt;,
## #   ELEV_M_SRTM_90m &lt;dbl&gt;, BEGIN &lt;dbl&gt;, END &lt;dbl&gt;, YEARMODA &lt;chr&gt;,
## #   YEAR &lt;chr&gt;, MONTH &lt;chr&gt;, DAY &lt;chr&gt;, YDAY &lt;dbl&gt;, TEMP &lt;dbl&gt;,
## #   TEMP_CNT &lt;int&gt;, DEWP &lt;dbl&gt;, DEWP_CNT &lt;int&gt;, SLP &lt;dbl&gt;, SLP_CNT &lt;int&gt;,
## #   STP &lt;dbl&gt;, STP_CNT &lt;int&gt;, VISIB &lt;dbl&gt;, VISIB_CNT &lt;int&gt;, WDSP &lt;dbl&gt;,
## #   WDSP_CNT &lt;int&gt;, MXSPD &lt;dbl&gt;, GUST &lt;dbl&gt;, MAX &lt;dbl&gt;, MAX_FLAG &lt;chr&gt;,
## #   MIN &lt;dbl&gt;, MIN_FLAG &lt;chr&gt;, PRCP &lt;dbl&gt;, PRCP_FLAG &lt;chr&gt;, SNDP &lt;dbl&gt;,
## #   I_FOG &lt;int&gt;, I_RAIN_DRIZZLE &lt;int&gt;, I_SNOW_ICE &lt;int&gt;, I_HAIL &lt;int&gt;,
## #   I_THUNDER &lt;int&gt;, I_TORNADO_FUNNEL &lt;int&gt;, EA &lt;dbl&gt;, ES &lt;dbl&gt;, RH &lt;dbl&gt;</code></pre>
</div>
<div id="find-stations-within-a-specified-distance-of-a-given-latlon-value" class="section level2">
<h2 class="hasAnchor">
<a href="#find-stations-within-a-specified-distance-of-a-given-latlon-value" class="anchor"></a>Find Stations Within a Specified Distance of a Given Lat/Lon Value</h2>
<p>Using the <code><a href="../reference/nearest_stations.html">nearest_stations()</a></code> function, you can find stations closest to a given point specified by latitude and longitude in decimal degrees. This can be used to generate a vector to pass along to <code><a href="../reference/get_GSOD.html">get_GSOD()</a></code> and download the stations of interest.</p>
<p>There are missing stations in this query. Not all that are listed and queried actually have files on the server.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tbar_stations &lt;-<span class="st"> </span><span class="kw"><a href="../reference/nearest_stations.html">nearest_stations</a></span>(<span class="dt">LAT =</span> <span class="op">-</span><span class="fl">27.5598</span>,
                                  <span class="dt">LON =</span> <span class="fl">151.9507</span>,
                                  <span class="dt">distance =</span> <span class="dv">50</span>)

tbar &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_GSOD.html">get_GSOD</a></span>(<span class="dt">years =</span> <span class="dv">2010</span>, <span class="dt">station =</span> tbar_stations)</code></pre></div>
<pre><code>## 
## This station, 949999-00170, only provides data for years 1971 to 1984.</code></pre>
<pre><code>## 
## This station, 949999-00183, only provides data for years 1983 to 1984.</code></pre>
<pre><code>## 
## Checking requested station file for availability on server</code></pre>
<pre><code>## 
## Downloading individual station files.</code></pre>
<p>If you wished to drop the stations, 949999-00170 and 949999-00183 from the query, you could do this.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">remove &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"949999-00170"</span>, <span class="st">"949999-00183"</span>)

tbar_stations &lt;-<span class="st"> </span>tbar_stations[<span class="op">!</span>tbar_stations <span class="op">%in%</span><span class="st"> </span>remove]

tbar &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_GSOD.html">get_GSOD</a></span>(<span class="dt">years =</span> <span class="dv">2010</span>,
                 <span class="dt">station =</span> tbar_stations,
                 <span class="dt">dsn =</span> <span class="st">"~/"</span>)</code></pre></div>
</div>
<div id="plot-maximum-and-miniumum-temperature-values" class="section level2">
<h2 class="hasAnchor">
<a href="#plot-maximum-and-miniumum-temperature-values" class="anchor"></a>Plot Maximum and Miniumum Temperature Values</h2>
<p>Using the first data downloaded for a single station, 955510-99999, plot the temperature for 2010 using <code>read_csv()</code> from Hadley’s <a href="https://CRAN.R-project.org/package=readr"><code>readr</code></a> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(lubridate)</code></pre></div>
<pre><code>## 
## Attaching package: 'lubridate'</code></pre>
<pre><code>## The following object is masked from 'package:base':
## 
##     date</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyr)

<span class="co"># Create a dataframe of just the date and temperature values that we want to</span>
<span class="co"># plot</span>
tbar_temps &lt;-<span class="st"> </span>tbar[, <span class="kw">c</span>(<span class="st">"YEARMODA"</span>, <span class="st">"TEMP"</span>, <span class="st">"MAX"</span>, <span class="st">"MIN"</span>)]

<span class="co"># Gather the data from wide to long</span>
tbar_temps &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/tidyr/topics/gather">gather</a></span>(tbar_temps, Measurement, <span class="dt">gather_cols =</span> TEMP<span class="op">:</span>MIN)

<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(<span class="dt">data =</span> tbar_temps, <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">x =</span> <span class="kw"><a href="http://www.rdocumentation.org/packages/lubridate/topics/ymd">ymd</a></span>(YEARMODA), <span class="dt">y =</span> value,
                              <span class="dt">colour =</span> Measurement)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_path">geom_line</a></span>() <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/scale_brewer">scale_color_brewer</a></span>(<span class="dt">type =</span> <span class="st">"qual"</span>, <span class="dt">na.value =</span> <span class="st">"black"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/scale_continuous">scale_y_continuous</a></span>(<span class="dt">name =</span> <span class="st">"Temperature"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/scale_date">scale_x_date</a></span>(<span class="dt">name =</span> <span class="st">"Date"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggtheme">theme_bw</a></span>()</code></pre></div>
<p><img src="GSODR_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
</div>
</div>
<div id="creating-spatial-files" class="section level1">
<h1 class="hasAnchor">
<a href="#creating-spatial-files" class="anchor"></a>Creating Spatial Files</h1>
<p>Because the stations provide geospatial location information, it is possible to create a spatial file. <a href="http://www.geopackage.org">GeoPackage files</a> are a open, standards-based, platform-independent, portable, self-describing compact format for transferring geospatial information, which handle vector files much like shapefiles do, but eliminate many of the issues that shapefiles have with field names and the number of files. The <code><a href="../reference/get_GSOD.html">get_GSOD()</a></code> function can create a GeoPackage file, which can be used with a GIS for further analysis and mapping with other spatial objects.</p>
<p>After getting weather stations for Australia and creating a GeoPackage file, <em>rgdal</em> can import the data into R again in a spatial format.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/get_GSOD.html">get_GSOD</a></span>(<span class="dt">years =</span> <span class="dv">2015</span>, <span class="dt">country =</span> <span class="st">"Australia"</span>, <span class="dt">dsn =</span> <span class="st">"~/"</span>, <span class="dt">filename =</span> <span class="st">"AUS"</span>,
         <span class="dt">CSV =</span> <span class="ot">FALSE</span>, <span class="dt">GPKG =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; trying URL 'ftp://ftp.ncdc.noaa.gov/pub/data/gsod/2015/gsod_2015.tar'</span>
<span class="co">#&gt; Content type 'unknown' length 106352640 bytes (101.4 MB)</span>
<span class="co">#&gt; ==================================================</span>
<span class="co">#&gt; downloaded 101.4 MB</span>


<span class="co">#&gt; Finished downloading file.</span>

<span class="co">#&gt; Starting data file processing.</span>


<span class="co">#&gt; Writing GeoPackage file to disk.</span></code></pre></div>
<p>Importing the GeoPackage file can be a bit tricky. The dsn will be the full path along with the file name. The layer to be specified is “GSOD”, this is specified in the <code><a href="../reference/get_GSOD.html">get_GSOD()</a></code> function and will not change. The file name, specified in the dsn will, but the layer name will not.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rgdal)
<span class="co">#&gt; Loading required package: sp</span>
<span class="co">#&gt; rgdal: version: 1.1-10, (SVN revision 622)</span>
<span class="co">#&gt;  Geospatial Data Abstraction Library extensions to R successfully loaded</span>
<span class="co">#&gt;  Loaded GDAL runtime: GDAL 1.11.5, released 2016/07/01</span>
<span class="co">#&gt;  Path to GDAL shared files: /usr/local/Cellar/gdal/1.11.5_1/share/gdal</span>
<span class="co">#&gt;  Loaded PROJ.4 runtime: Rel. 4.9.3, 15 August 2016, [PJ_VERSION: 493]</span>
<span class="co">#&gt;  Path to PROJ.4 shared files: (autodetected)</span>
<span class="co">#&gt;  Linking to sp version: 1.2-3</span>

AUS_stations &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/rgdal/topics/readOGR">readOGR</a></span>(<span class="dt">dsn =</span> <span class="kw">path.expand</span>(<span class="st">"~/AUS.gpkg"</span>), <span class="dt">layer =</span> <span class="st">"GSOD"</span>)
<span class="co">#&gt; OGR data source with driver: GPKG</span>
<span class="co">#&gt; Source: "/Users/asparks/AUS-2015.gpkg", layer: "GSOD"</span>
<span class="co">#&gt; with 186977 features</span>
<span class="co">#&gt; It has 46 fields</span>

<span class="kw">class</span>(AUS_stations)
<span class="co">#&gt; [1] "SpatialPointsDataFrame"</span>
<span class="co">#&gt; attr(,"package")</span>
<span class="co">#&gt; [1] "sp"</span></code></pre></div>
<p>Since GeoPackage files are formatted as SQLite databases you can use the existing R tools for SQLite files <a href="https://jsta.github.io/2016/07/14/geopackage-r.html">(J. Stachelek 2016)</a>. One easy way is using <em>dplyr</em>, which we’ve already used to filter the stations.</p>
<p>This option is much faster to load since it does not load the geometry.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">AUS_sqlite &lt;-<span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/tbl.html">tbl</a></span>(<span class="kw"><a href="http://dplyr.tidyverse.org/reference/src_dbi.html">src_sqlite</a></span>(<span class="kw">path.expand</span>(<span class="st">"~/AUS.gpkg"</span>)), <span class="st">"GSOD"</span>)
<span class="kw">class</span>(AUS_sqlite)
<span class="co">#&gt; [1] "tbl_dbi"  "tbl_sql"  "tbl_lazy" "tbl"</span>

<span class="kw">print</span>(AUS_sqlite, <span class="dt">n =</span> <span class="dv">5</span>)
<span class="co">#&gt; Source:   table&lt;GSOD&gt; [?? x 48]</span>
<span class="co">#&gt; Database: sqlite 3.19.3 [/Users/U8004755/AUS.gpkg]</span>
<span class="co">#&gt;    fid         geom   USAF  WBAN        STNID  STN_NAME  CTRY STATE  CALL ELEV_M ELEV_M_SRTM_90m    </span><span class="re">BEGIN</span><span class="co">      </span><span class="re">END</span><span class="co"> YEARMODA</span>
<span class="co">#&gt;  &lt;int&gt;       &lt;blob&gt;  &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;           &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;chr&gt;</span>
<span class="co">#&gt; 1     1 &lt;blob[29 B]&gt; 941000 99999 941000-99999 KALUMBURU    AS  &lt;NA&gt;  &lt;NA&gt;     24              17 20010912 20170916 20150101</span>
<span class="co">#&gt; 2     2 &lt;blob[29 B]&gt; 941000 99999 941000-99999 KALUMBURU    AS  &lt;NA&gt;  &lt;NA&gt;     24              17 20010912 20170916 20150102</span>
<span class="co">#&gt; 3     3 &lt;blob[29 B]&gt; 941000 99999 941000-99999 KALUMBURU    AS  &lt;NA&gt;  &lt;NA&gt;     24              17 20010912 20170916 20150103</span>
<span class="co">#&gt; 4      4 &lt;blob[29 B]&gt; 941000 99999 941000-99999 KALUMBURU    AS  &lt;NA&gt;  &lt;NA&gt;     24              17 20010912 20170916 20150104</span>
<span class="co">#&gt; 5     5 &lt;blob[29 B]&gt; 941000 99999 941000-99999 KALUMBURU    AS  &lt;NA&gt;  &lt;NA&gt;     24              17 20010912 20170916 20150105</span>
<span class="co">#&gt; ... with more rows, and 34 more variables: YEAR &lt;chr&gt;, MONTH &lt;chr&gt;, DAY &lt;chr&gt;, YDAY &lt;dbl&gt;, TEMP &lt;dbl&gt;, TEMP_CNT &lt;int&gt;,</span>
<span class="co">#&gt;   DEWP &lt;dbl&gt;, DEWP_CNT &lt;int&gt;, SLP &lt;dbl&gt;, SLP_CNT &lt;int&gt;, STP &lt;dbl&gt;, STP_CNT &lt;int&gt;, VISIB &lt;dbl&gt;, VISIB_CNT &lt;int&gt;, WDSP &lt;dbl&gt;,</span>
<span class="co">#&gt;   WDSP_CNT &lt;int&gt;, MXSPD &lt;dbl&gt;, GUST &lt;dbl&gt;, MAX &lt;dbl&gt;, MAX_FLAG &lt;chr&gt;, MIN &lt;dbl&gt;, MIN_FLAG &lt;chr&gt;, PRCP &lt;dbl&gt;, PRCP_FLAG &lt;chr&gt;,</span>
<span class="co">#&gt;   SNDP &lt;dbl&gt;, I_FOG &lt;int&gt;, I_RAIN_DRIZZLE &lt;int&gt;, I_SNOW_ICE &lt;int&gt;, I_HAIL &lt;int&gt;, I_THUNDER &lt;int&gt;, I_TORNADO_FUNNEL &lt;int&gt;,</span>
<span class="co">#&gt;   EA &lt;dbl&gt;, ES &lt;dbl&gt;, RH &lt;dbl&gt;</span></code></pre></div>
</div>
<div id="reformating-local-data-files" class="section level1">
<h1 class="hasAnchor">
<a href="#reformating-local-data-files" class="anchor"></a>Reformating Local Data Files</h1>
<p>You may have already downloaded GSOD data or may just wish to use an FTP client to download the files from the server to you local disk and not use the capabilities of <code><a href="../reference/get_GSOD.html">get_GSOD()</a></code>. In that case the <code><a href="../reference/reformat_GSOD.html">reformat_GSOD()</a></code> function is useful.</p>
<p>There are two ways, you can either provide <code><a href="../reference/reformat_GSOD.html">reformat_GSOD()</a></code> with a list of specified station files or you can supply it with a directory containing all of the “WBAN-WMO-YYYY.op.gz” station files that you wish to reformat.</p>
<div id="reformat-a-list-of-local-files" class="section level2">
<h2 class="hasAnchor">
<a href="#reformat-a-list-of-local-files" class="anchor"></a>Reformat a list of local files</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"~/GSOD/gsod_1960/200490-99999-1960.op.gz"</span>,
       <span class="st">"~/GSOD/gsod_1961/200490-99999-1961.op.gz"</span>)
x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/reformat_GSOD.html">reformat_GSOD</a></span>(<span class="dt">file_list =</span> y)</code></pre></div>
</div>
<div id="reformat-all-local-files-found-in-directory" class="section level2">
<h2 class="hasAnchor">
<a href="#reformat-all-local-files-found-in-directory" class="anchor"></a>Reformat all local files found in directory</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/reformat_GSOD.html">reformat_GSOD</a></span>(<span class="dt">dsn =</span> <span class="st">"~/GSOD/gsod_1960"</span>)</code></pre></div>
</div>
</div>
<div id="updating-gsodrs-internal-database-of-station-locations-and-metadata" class="section level1">
<h1 class="hasAnchor">
<a href="#updating-gsodrs-internal-database-of-station-locations-and-metadata" class="anchor"></a>Updating <em>GSODR’s</em> Internal Database of Station Locations and Metadata</h1>
<p><em>GSODR</em> uses internal databases of station data from the NCEI to provide location and other metadata, e.g. elevation, station names, WMO codes, etc. to make the process of querying for weather data faster. This database is created and packaged with <em>GSODR</em> for distribution and is updated with new releases. Users have the option of updating these databases after installing <em>GSODR</em>. While this option gives the users the ability to keep the database up-to-date and gives <em>GSODR’s</em> authors flexibility in maintaining it, this also means that reproducibility may be affected since the same version of <em>GSODR</em> may have different databases on different machines. If reproducibility is necessary, care should be taken to ensure that the version of the databases is the same across different machines.</p>
<p>The database file <code>isd_history.rda</code> can be located on your local system by using the following command, <code>paste0(.libPaths(), "/GSODR/extdata")[1]</code>, unless you have specified another location for library installations and installed <em>GSODR</em> there, in which case it would still be in <code>GSODR/extdata</code>.</p>
</div>
<div id="checking-nceis-gsod-station-data-inventory" class="section level1">
<h1 class="hasAnchor">
<a href="#checking-nceis-gsod-station-data-inventory" class="anchor"></a>Checking NCEI’s GSOD Station Data Inventory</h1>
<p><em>GSODR</em> provides a function, <code><a href="../reference/get_inventory.html">get_inventory()</a></code> to retrieve an inventory of the number of weather observations by station-year-month for the beginning of record through to current.</p>
<p>Following is an example of how to retreive the inventory and check a station in Toowoomba, Queensland, Australia, which was used in an earlier example.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">inventory &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_inventory.html">get_inventory</a></span>()</code></pre></div>
<pre><code>## THIS INVENTORY SHOWS THE NUMBER OF WEATHER OBSERVATIONS BY STATION-YEAR-MONTH FOR BEGINNING OF RECORD THROUGH OCTOBER 2017.  THE DATABASE CONTINUES TO BE UPDATED AND ENHANCED, AND THIS INVENTORY WILL BE  UPDATED ON A REGULAR BASIS.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">inventory</code></pre></div>
<pre><code>## # A tibble: 616,652 x 14
##           STNID  YEAR   JAN   FEB   MAR   APR   MAY   JUN   JUL   AUG
##           &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1 007005-99999  2012    18     0     0     0     0     0     0     0
##  2 007011-99999  2012   771     0   183     0     0     0   142    13
##  3 007018-99999  2013     0     0     0     0     0     0   710     0
##  4 007025-99999  2012    21     0     0     0     0     0     0     0
##  5 007026-99999  2012     0     0     0     0     0     0   367     0
##  6 007026-99999  2014     0     0     0     0     0     0   180     0
##  7 007026-99999  2016     0     0     0     0     0   794     0     0
##  8 007026-99999  2017     0   914  2626   380   277   406  1230  1009
##  9 007034-99999  2012     0     0     0     0     0     0     0     0
## 10 007037-99999  2012     0     0     0     0     0     0   830    35
## # ... with 616,642 more rows, and 4 more variables: SEP &lt;int&gt;, OCT &lt;int&gt;,
## #   NOV &lt;int&gt;, DEC &lt;int&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">subset</span>(inventory, STNID <span class="op">==</span><span class="st"> "955510-99999"</span>)</code></pre></div>
<pre><code>## # A tibble: 20 x 14
##           STNID  YEAR   JAN   FEB   MAR   APR   MAY   JUN   JUL   AUG
##           &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1 955510-99999  1998     0     0   222   223   221   211   226   217
##  2 955510-99999  1999   213   201   235   224   244   229   239   247
##  3 955510-99999  2000   241   227   247   238   246   237   245   240
##  4 955510-99999  2001   245   223   246   238   239   236   243   240
##  5 955510-99999  2002   245   219   246   236   243   229   243   246
##  6 955510-99999  2003   244   217   220   232   235   233   246   242
##  7 955510-99999  2004   240   227   241   229   233   224   235   244
##  8 955510-99999  2005   243   221   243   241   247   242   248   247
##  9 955510-99999  2006   245   223   246   232   241   238   247   247
## 10 955510-99999  2007   247   222   244   240   248   240   244   244
## 11 955510-99999  2008   247   228   248   239   248   239   248   247
## 12 955510-99999  2009   245   222   246   235   244   237   248   248
## 13 955510-99999  2010   248   223   248   240   244   240   242   247
## 14 955510-99999  2011   247   224   247   240   247   240   248   247
## 15 955510-99999  2012   248   232   248   240   248   240   248   247
## 16 955510-99999  2013   236   220   247   233   248   239   252   246
## 17 955510-99999  2014   243   224   247   240   246   239   241   243
## 18 955510-99999  2015   248   222   248   239   247   240   247   246
## 19 955510-99999  2016   246   228   245   240   246   240   248   248
## 20 955510-99999  2017   240   224   248   240   248   237   248   247
## # ... with 4 more variables: SEP &lt;int&gt;, OCT &lt;int&gt;, NOV &lt;int&gt;, DEC &lt;int&gt;</code></pre>
</div>
<div id="additional-climate-data" class="section level1">
<h1 class="hasAnchor">
<a href="#additional-climate-data" class="anchor"></a>Additional Climate Data</h1>
<p>Additional climate data, <a href="https://github.com/adamhsparks/GSODRdata"><em>GSODRdata</em></a>, formatted for use with GSOD data provided by <em>GSODR</em> are available as an R package install able through GitHub due to the package size, 5.1Mb, being too large for CRAN.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"adamhsparks/GSODRdata"</span>)
<span class="kw">library</span>(<span class="st">"GSODRdata"</span>)</code></pre></div>
</div>
<div id="notes" class="section level1">
<h1 class="hasAnchor">
<a href="#notes" class="anchor"></a>Notes</h1>
<div id="elevation-values" class="section level2">
<h2 class="hasAnchor">
<a href="#elevation-values" class="anchor"></a>Elevation Values</h2>
<p>90 metre (90m) hole-filled SRTM digital elevation (Jarvis <em>et al.</em> 2008) was used to identify and correct/remove elevation errors in data for station locations between -60˚ and 60˚ latitude. This applies to cases here where elevation was missing in the reported values as well. In case the station reported an elevation and the DEM does not, the station reported is taken. For stations beyond -60˚ and 60˚ latitude, the values are station reported values in every instance. See <a href="https://github.com/ropensci/GSODR/blob/master/data-raw/fetch_isd-history.md" class="uri">https://github.com/ropensci/GSODR/blob/master/data-raw/fetch_isd-history.md</a> for more detail on the correction methods.</p>
</div>
<div id="wmo-resolution-40--noaa-policy" class="section level2">
<h2 class="hasAnchor">
<a href="#wmo-resolution-40--noaa-policy" class="anchor"></a>WMO Resolution 40. NOAA Policy</h2>
<p><em>Users of these data should take into account the following (from the <a href="http://www7.ncdc.noaa.gov/CDO/cdoselect.cmd?datasetabbv=GSOD&amp;countryabbv=&amp;georegionabbv=">NCEI website</a>):</em></p>
<blockquote>
<p>“The following data and products may have conditions placed on their international commercial use. They can be used within the U.S. or for non-commercial international activities without restriction. The non-U.S. data cannot be redistributed for commercial purposes. Re-distribution of these data by others must provide this same notification.” <a href="https://public.wmo.int/en/our-mandate/what-we-do/data-exchange-and-technology-transfer">WMO Resolution 40. NOAA Policy</a></p>
</blockquote>
</div>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<p>Stachelek, J. (2016) Using the Geopackage Format with R. URL: <a href="https://jsta.github.io/2016/07/14/geopackage-r.html" class="uri">https://jsta.github.io/2016/07/14/geopackage-r.html</a></p>
</div>
<div id="appendices" class="section level1">
<h1 class="hasAnchor">
<a href="#appendices" class="anchor"></a>Appendices</h1>
<div id="appendix-1-gsodr-final-data-format-contents-and-units" class="section level2">
<h2 class="hasAnchor">
<a href="#appendix-1-gsodr-final-data-format-contents-and-units" class="anchor"></a>Appendix 1: GSODR Final Data Format, Contents and Units</h2>
<p><em>GSODR</em> formatted data include the following fields and units:</p>
<ul>
<li><p><strong>STNID</strong> - Station number (WMO/DATSAV3 number) for the location;</p></li>
<li><p><strong>WBAN</strong> - number where applicable–this is the historical “Weather Bureau Air Force Navy” number - with WBAN being the acronym;</p></li>
<li><p><strong>STN_NAME</strong> - Unique text identifier;</p></li>
<li><p><strong>CTRY</strong> - Country in which the station is located;</p></li>
<li><p><strong>LAT</strong> - Latitude. <em>Station dropped in cases where values are &lt; -90 or &gt; 90 degrees or Lat = 0 and Lon = 0</em>;</p></li>
<li><p><strong>LON</strong> - Longitude. <em>Station dropped in cases where values are &lt; -180 or &gt; 180 degrees or Lat = 0 and Lon = 0</em>;</p></li>
<li><p><strong>ELEV_M</strong> - Elevation in metres;</p></li>
<li><p><strong>ELEV_M_SRTM_90m</strong> - Elevation in metres corrected for possible errors, derived from the CGIAR-CSI SRTM 90m database (Jarvis et al. 2008);</p></li>
<li><p><strong>YEARMODA</strong> - Date in YYYY-mm-dd format;</p></li>
<li><p><strong>YEAR</strong> - The year (YYYY);</p></li>
<li><p><strong>MONTH</strong> - The month (mm);</p></li>
<li><p><strong>DAY</strong> - The day (dd);</p></li>
<li><p><strong>YDAY</strong> - Sequential day of year (not in original GSOD);</p></li>
<li><p><strong>TEMP</strong> - Mean daily temperature converted to degrees C to tenths. Missing = NA;</p></li>
<li><p><strong>TEMP_CNT</strong> - Number of observations used in calculating mean daily temperature;</p></li>
<li><p><strong>DEWP</strong> - Mean daily dew point converted to degrees C to tenths. Missing = NA;</p></li>
<li><p><strong>DEWP_CNT</strong> - Number of observations used in calculating mean daily dew point;</p></li>
<li><p><strong>SLP</strong> - Mean sea level pressure in millibars to tenths. Missing = NA;</p></li>
<li><p><strong>SLP_CNT</strong> - Number of observations used in calculating mean sea level pressure;</p></li>
<li><p><strong>STP</strong> - Mean station pressure for the day in millibars to tenths. Missing = NA;</p></li>
<li><p><strong>STP_CNT</strong> - Number of observations used in calculating mean station pressure;</p></li>
<li><p><strong>VISIB</strong> - Mean visibility for the day converted to kilometres to tenths Missing = NA;</p></li>
<li><p><strong>VISIB_CNT</strong> - Number of observations used in calculating mean daily visibility;</p></li>
<li><p><strong>WDSP</strong> - Mean daily wind speed value converted to metres/second to tenths. Missing = NA;</p></li>
<li><p><strong>WDSP_CNT</strong> - Number of observations used in calculating mean daily wind speed;</p></li>
<li><p><strong>MXSPD</strong> - Maximum sustained wind speed reported for the day converted to metres/second to tenths. Missing = NA;</p></li>
<li><p><strong>GUST</strong> - Maximum wind gust reported for the day converted to metres/second to tenths. Missing = NA;</p></li>
<li><p><strong>MAX</strong> - Maximum temperature reported during the day converted to Celsius to tenths–time of max temp report varies by country and region, so this will sometimes not be the max for the calendar day. Missing = NA;</p></li>
<li><p><strong>MAX_FLAG</strong> - Blank indicates max temp was taken from the explicit max temp report and not from the ‘hourly’ data. An “*” indicates max temp was derived from the hourly data (i.e., highest hourly or synoptic-reported temperature);</p></li>
<li><p><strong>MIN</strong> - Minimum temperature reported during the day converted to Celsius to tenths–time of min temp report varies by country and region, so this will sometimes not be the max for the calendar day. Missing = NA;</p></li>
<li><p><strong>MIN_FLAG</strong> - Blank indicates max temp was taken from the explicit min temp report and not from the ‘hourly’ data. An “*” indicates min temp was derived from the hourly data (i.e., highest hourly or synoptic-reported temperature);</p></li>
<li><p><strong>PRCP</strong> - Total precipitation (rain and/or melted snow) reported during the day converted to millimetres to hundredths; will usually not end with the midnight observation, i.e., may include latter part of previous day. A value of “.00” indicates no measurable precipitation (includes a trace). Missing = NA; <em>Note: Many stations do not report ‘0’ on days with no precipitation– therefore, ‘NA’ will often appear on these days. For example, a station may only report a 6-hour amount for the period during which rain fell.</em> See <code>FLAGS_PRCP</code> column for source of data;</p></li>
<li>
<p><strong>PRCP_FLAG</strong> -</p>
<ul>
<li><p>A = 1 report of 6-hour precipitation amount;</p></li>
<li><p>B = Summation of 2 reports of 6-hour precipitation amount;</p></li>
<li><p>C = Summation of 3 reports of 6-hour precipitation amount;</p></li>
<li><p>D = Summation of 4 reports of 6-hour precipitation amount;</p></li>
<li><p>E = 1 report of 12-hour precipitation amount;</p></li>
<li><p>F = Summation of 2 reports of 12-hour precipitation amount;</p></li>
<li><p>G = 1 report of 24-hour precipitation amount;</p></li>
<li><p>H = Station reported ‘0’ as the amount for the day (e.g., from 6-hour reports), but also reported at least one occurrence of precipitation in hourly observations–this could indicate a rrace occurred, but should be considered as incomplete data for the day;</p></li>
<li><p>I = Station did not report any precipitation data for the day and did not report any occurrences of precipitation in its hourly observations–it’s still possible that precipitation occurred but was not reported;</p></li>
</ul>
</li>
<li><p><strong>SNDP</strong> - Snow depth in millimetres to tenths. Missing = NA;</p></li>
<li><p><strong>I_FOG</strong> - Indicator for fog, (1 = yes, 0 = no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>I_RAIN_DRIZZLE</strong> - Indicator for rain or drizzle, (1 = yes, 0 = no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>I_SNOW_ICE</strong> - Indicator for snow or ice pellets, (1 = yes, 0 = no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>I_HAIL</strong> - Indicator for hail, (1 = yes, 0 = no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>I_THUNDER</strong> - Indicator for thunder, (1 = yes, 0 = no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>I_TORNADO_FUNNEL</strong> - Indicator for tornado or funnel cloud, (1 = yes, 0 = no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>ea</strong> - Mean daily actual vapour pressure;</p></li>
<li><p><strong>es</strong> - Mean daily saturation vapour pressure;</p></li>
<li><p><strong>RH</strong> - Mean daily relative humidity.</p></li>
</ul>
</div>
<div id="appendix-2-map-of-gsod-station-locations" class="section level2">
<h2 class="hasAnchor">
<a href="#appendix-2-map-of-gsod-station-locations" class="anchor"></a>Appendix 2: Map of GSOD Station Locations</h2>
<p><img src="GSODR_files/figure-html/unnamed-chunk-13-1.png" width="672"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li>
<a href="#retrieving-and-reformatting-data-in-r">Retrieving and Reformatting Data in R</a><ul class="nav nav-pills nav-stacked">
<li><a href="#plot-global-station-locations">Plot Global Station Locations</a></li>
      <li><a href="#find-stations-in-australia">Find Stations in Australia</a></li>
      <li><a href="#using-the-get_gsod-function-in-gsodr-to-download-a-single-station-and-year">Using the get_GSOD() Function in <em>GSODR</em> to Download a Single Station and Year</a></li>
      <li><a href="#find-stations-within-a-specified-distance-of-a-given-latlon-value">Find Stations Within a Specified Distance of a Given Lat/Lon Value</a></li>
      <li><a href="#plot-maximum-and-miniumum-temperature-values">Plot Maximum and Miniumum Temperature Values</a></li>
      </ul>
</li>
      <li><a href="#creating-spatial-files">Creating Spatial Files</a></li>
      <li>
<a href="#reformating-local-data-files">Reformating Local Data Files</a><ul class="nav nav-pills nav-stacked">
<li><a href="#reformat-a-list-of-local-files">Reformat a list of local files</a></li>
      <li><a href="#reformat-all-local-files-found-in-directory">Reformat all local files found in directory</a></li>
      </ul>
</li>
      <li><a href="#updating-gsodrs-internal-database-of-station-locations-and-metadata">Updating <em>GSODR’s</em> Internal Database of Station Locations and Metadata</a></li>
      <li><a href="#checking-nceis-gsod-station-data-inventory">Checking NCEI’s GSOD Station Data Inventory</a></li>
      <li><a href="#additional-climate-data">Additional Climate Data</a></li>
      <li>
<a href="#notes">Notes</a><ul class="nav nav-pills nav-stacked">
<li><a href="#elevation-values">Elevation Values</a></li>
      <li><a href="#wmo-resolution-40--noaa-policy">WMO Resolution 40. NOAA Policy</a></li>
      </ul>
</li>
      <li><a href="#references">References</a></li>
      <li>
<a href="#appendices">Appendices</a><ul class="nav nav-pills nav-stacked">
<li><a href="#appendix-1-gsodr-final-data-format-contents-and-units">Appendix 1: GSODR Final Data Format, Contents and Units</a></li>
      <li><a href="#appendix-2-map-of-gsod-station-locations">Appendix 2: Map of GSOD Station Locations</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Adam Sparks, Tomislav Hengl, Andrew Nelson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
